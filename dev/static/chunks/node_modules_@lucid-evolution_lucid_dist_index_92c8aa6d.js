(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/node_modules/@lucid-evolution/lucid/dist/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

return __turbopack_context__.a(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {

// src/core.ts
__turbopack_context__.s([
    "ERROR_MESSAGE",
    ()=>ERROR_MESSAGE,
    "Lucid",
    ()=>Lucid,
    "NullableError",
    ()=>NullableError,
    "RunTimeError",
    ()=>RunTimeError,
    "TxBuilderError",
    ()=>TxBuilderError,
    "TxSignerError",
    ()=>TxSignerError,
    "TxSubmitError",
    ()=>TxSubmitError,
    "UnauthorizedNetwork",
    ()=>UnauthorizedNetwork,
    "makeReturn",
    ()=>makeReturn,
    "makeSubmit",
    ()=>makeSubmit,
    "makeTxBuilder",
    ()=>makeTxBuilder,
    "makeTxSignBuilder",
    ()=>makeTxSignBuilder
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Effect.js [app-client] (ecmascript) <export * as Effect>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@anastasia-labs/cardano-multiplatform-lib-browser/cardano_multiplatform_lib.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@anastasia-labs/cardano-multiplatform-lib-browser/cardano_multiplatform_lib.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@anastasia-labs/cardano-multiplatform-lib-browser/cardano_multiplatform_lib_bg.js [app-client] (ecmascript)");
// src/lucid-evolution/utils.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lucid-evolution/utils/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$plutus$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lucid-evolution/plutus/dist/index.js [app-client] (ecmascript)");
// src/tx-builder/internal/Collect.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Function.js [app-client] (ecmascript)");
// src/Errors.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Data$3e$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Data.js [app-client] (ecmascript) <export * as Data>");
// src/tx-builder/internal/Service.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Context$3e$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Context.js [app-client] (ecmascript) <export * as Context>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$core$2d$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lucid-evolution/core-utils/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@effect/schema/dist/esm/Schema.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$ParseResult$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@effect/schema/dist/esm/ParseResult.js [app-client] (ecmascript)");
// src/tx-builder/internal/CompleteTxBuilder.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Record.js [app-client] (ecmascript) <export * as Record>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Array.js [app-client] (ecmascript) <export * as Array>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$BigInt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__BigInt$3e$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/BigInt.js [app-client] (ecmascript) <export * as BigInt>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Tuple$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Tuple$3e$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Tuple.js [app-client] (ecmascript) <export * as Tuple>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Option$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Option$3e$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Option.js [app-client] (ecmascript) <export * as Option>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$uplc$2f$dist$2f$browser$2f$uplc_tx$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@lucid-evolution/uplc/dist/browser/uplc_tx.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$uplc$2f$dist$2f$browser$2f$uplc_tx_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lucid-evolution/uplc/dist/browser/uplc_tx_bg.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Predicate$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Predicate.js [app-client] (ecmascript)");
// src/tx-builder/TxBuilder.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Layer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Layer$3e$__ = __turbopack_context__.i("[project]/node_modules/effect/dist/esm/Layer.js [app-client] (ecmascript) <export * as Layer>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$wallet$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lucid-evolution/wallet/dist/index.js [app-client] (ecmascript)");
// src/index.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$core$2d$types$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lucid-evolution/core-types/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$provider$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lucid-evolution/provider/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$sign_data$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lucid-evolution/sign_data/dist/index.js [app-client] (ecmascript)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$plutus$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$uplc$2f$dist$2f$browser$2f$uplc_tx$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$wallet$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$provider$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$sign_data$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__
]);
[__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$plutus$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$uplc$2f$dist$2f$browser$2f$uplc_tx$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$wallet$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$provider$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$sign_data$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__;
;
;
var makeReturn = (program)=>{
    return {
        unsafeRun: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise(program),
        safeRun: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].either(program)),
        program: ()=>program
    };
};
;
;
var datumOf = async (provider, utxo, type)=>{
    if (!utxo.datum) {
        if (!utxo.datumHash) {
            throw new Error("This UTxO does not have a datum hash.");
        }
        utxo.datum = await provider.getDatum(utxo.datumHash);
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$plutus$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Data"].from(utxo.datum, type);
};
var metadataOf = async (provider, unit)=>{
    const { policyId, name, label } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fromUnit"])(unit);
    switch(label){
        case 222:
        case 333:
        case 444:
            {
                const utxo = await provider.getUtxoByUnit((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toUnit"])(policyId, name, 100));
                const metadata = await datumOf(provider, utxo);
                return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$plutus$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Data"].toJson(metadata.fields[0]);
            }
        default:
            throw new Error("No variant matched.");
    }
};
;
;
;
;
;
var ERROR_MESSAGE = {
    MULTIPLE_POLICIES: "MULTIPLE_POLICIES: Only one policy id allowed. You can chain multiple mintAssets functions together if you need to mint assets with different policy ids. ",
    EMPTY_UTXO: "EMPTY_UTXO: UTxO array is empty. If a Tx has been recently submitted, consider waiting for chain sync",
    MISSING_WALLET: "MISSING_WALLET: please ensure that your wallet has been properly configured and initialized",
    MISSING_REDEEMER: "MISSING_REDEEMER: redeemer can not be undefined",
    DATUM_NOT_SET: "DATUM_NOT_SET: Script inputs becomes unspendable without datum.",
    EMPTY_ASSETS: "EMPTY_ASSETS: Attempting to pay to an address with an empty assets object",
    MISSING_REWARD_TYPE: "MISSING_REWARD_TYPE: Address type must be Reward type.",
    MISSING_STAKE_CREDENTIAL: "MISSING_STAKE_CREDENTIAL: Address does not contain stake credential",
    MISSING_PAYMENT_CREDENTIAL: "MISSING_PAYMENT_CREDENTIAL: Address does not contain payment credential",
    INVALID_METADATA: "INVALID_METADATA: metadata is invalid",
    SCRIPT_CREDENTIAL_NOT_ALLOWED: "SCRIPT_CREDENTIAL_NOT_ALLOWED: Only verification key credential is allowed",
    INVALID_SCRIPT: "INVALID_SCRIPT: Script is invalid",
    EXPECTED_KEY_HASH: "EXPECTED_KEY_HASH",
    INVALID_NETWORK: (address, actualNetworkId, network)=>`Invalid address: ${address}, Expected address with network id ${actualNetworkId}, current network ${network}`,
    MISSING_SCRIPT: (hash)=>`MISSING_SCRIPT: Script not found when building transaction, consider using attach modules. script_hash: ${hash}`,
    MISSING_POLICY: (policyId)=>`MISSING_POLICY: No policy found, policy_id: ${policyId}`
};
var NullableError = class extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Data$3e$__["Data"].TaggedError("NullableError") {
};
var UnauthorizedNetwork = class extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Data$3e$__["Data"].TaggedError("UnauthorizedNetwork") {
};
var TxBuilderError = class extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Data$3e$__["Data"].TaggedError("TxBuilderError") {
    get message() {
        return `${this.cause}`;
    }
};
var TxSignerError = class extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Data$3e$__["Data"].TaggedError("TxSignerError") {
    get message() {
        return `${this.cause}`;
    }
};
var TxSubmitError = class extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Data$3e$__["Data"].TaggedError("TxSubmitError") {
    get message() {
        return `${this.cause}`;
    }
};
var RunTimeError = class extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Data$3e$__["Data"].TaggedError("RunTimeError") {
    get message() {
        return `${this.cause}`;
    }
};
;
;
;
;
var txBuilderError = (cause)=>new TxBuilderError({
        cause: `{ TxBuilderError : ${cause} }`
    });
var toCMLAddress = (address, lucidConfig)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*($) {
        const { type } = yield* validateAddressDetails(address, lucidConfig);
        return type === "Byron" ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ByronAddress"].from_base58(address).to_address() : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Address"].from_bech32(address);
    });
var toV1 = (script)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusScript"].from_v1(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusV1Script"].from_cbor_hex(script));
var toV2 = (script)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusScript"].from_v2(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusV2Script"].from_cbor_hex(script));
var toV3 = (script)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusScript"].from_v3(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusV3Script"].from_cbor_hex(script));
var toPartial = (script, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PartialPlutusWitness"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusScriptWitness"].new_script(script), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusData"].from_cbor_hex(redeemer));
var handleRedeemerBuilder = (config, partialProgram, redeemer)=>{
    if (typeof redeemer === "object") {
        config.partialPrograms.set(redeemer, partialProgram);
    } else {
        const program = partialProgram(redeemer);
        config.programs.push(program);
    }
};
var validateAddressDetails = (address, lucidConfig)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*($) {
        const addressDetails = yield* $(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].try({
            try: ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getAddressDetails"])(address),
            catch: (cause)=>new TxBuilderError({
                    cause
                })
        }));
        const actualNetworkId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["networkToId"])(lucidConfig.network);
        if (addressDetails.networkId !== actualNetworkId) yield* new TxBuilderError({
            cause: ERROR_MESSAGE.INVALID_NETWORK(address, actualNetworkId, lucidConfig.network)
        });
        return addressDetails;
    });
var processCertificate = (stakeCredential, config, buildCert, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        switch(stakeCredential.type){
            case "Key":
                {
                    const credential = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_pub_key(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_hex(stakeCredential.hash));
                    const certBuilder = buildCert(credential);
                    config.txBuilder.add_cert(certBuilder.payment_key());
                    break;
                }
            case "Script":
                {
                    const credential = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScriptHash"].from_hex(stakeCredential.hash));
                    const certBuilder = buildCert(credential);
                    const script = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.scripts.get(stakeCredential.hash)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>txBuilderError(ERROR_MESSAGE.MISSING_SCRIPT(stakeCredential.hash))));
                    const addPlutusCertificate = (scriptVersion)=>{
                        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
                            const red = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>txBuilderError(ERROR_MESSAGE.MISSING_REDEEMER)));
                            config.txBuilder.add_cert(certBuilder.plutus_script(toPartial(scriptVersion, red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                        });
                    };
                    switch(script.type){
                        case "PlutusV1":
                            yield* addPlutusCertificate(toV1(script.script));
                            break;
                        case "PlutusV2":
                            yield* addPlutusCertificate(toV2(script.script));
                            break;
                        case "PlutusV3":
                            yield* addPlutusCertificate(toV3(script.script));
                            break;
                        case "Native":
                            config.txBuilder.add_cert(certBuilder.native_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScript"].from_cbor_hex(script.script), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScriptWitnessInfo"].assume_signature_count()));
                            break;
                    }
                    break;
                }
        }
    });
var validateAndGetStakeCredential = (rewardAddress, config)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const addressDetails = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateAddressDetails(rewardAddress, config.lucidConfig), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].andThen((address)=>address.type !== "Reward" ? txBuilderError(ERROR_MESSAGE.MISSING_REWARD_TYPE) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].succeed(address)));
        const stakeCredential = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(addressDetails.stakeCredential), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>txBuilderError(ERROR_MESSAGE.MISSING_STAKE_CREDENTIAL)));
        return stakeCredential;
    });
var resolveDatum = (datumHash, datum, provider)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        if (!datumHash || datum) return datum;
        return yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].tryPromise({
            try: ()=>provider.getDatum(datumHash),
            catch: txBuilderError
        });
    });
;
;
var TxConfig = class extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Context$3e$__["Context"].Tag("TxConfig")() {
};
// src/tx-builder/internal/Collect.ts
var collectError = (cause)=>new TxBuilderError({
        cause: `{ Collect: ${cause} }`
    });
var collectFromUTxO = (utxos, collectInputs = true)=>(redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
            const { config } = yield* TxConfig;
            if (utxos.length === 0) yield* collectError(ERROR_MESSAGE.EMPTY_UTXO);
            for (const utxo of utxos){
                const resolvedDatum = yield* resolveDatum(utxo.datumHash, utxo.datum, config.lucidConfig.provider);
                utxo.datum = resolvedDatum;
                if (collectInputs) config.collectedInputs.push(utxo);
                const input = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleInputBuilder"].from_transaction_unspent_output((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["utxoToCore"])({
                    ...utxo,
                    datum: resolvedDatum
                }));
                const credential = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["paymentCredentialOf"])(utxo.address);
                if (credential.type == "Script") {
                    const script = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.scripts.get(credential.hash)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>collectError(collectError(ERROR_MESSAGE.MISSING_SCRIPT(credential.hash)))));
                    switch(script.type){
                        case "Native":
                            config.txBuilder.add_input(input.native_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScript"].from_cbor_hex(script.script), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScriptWitnessInfo"].assume_signature_count()));
                            break;
                        case "PlutusV1":
                            {
                                const red = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>collectError(ERROR_MESSAGE.MISSING_REDEEMER)));
                                config.txBuilder.add_input(input.plutus_script(toPartial(toV1(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusData"].from_cbor_hex(utxo.datum)));
                                break;
                            }
                        case "PlutusV2":
                            {
                                const v2 = toV2(script.script);
                                const red = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>collectError(ERROR_MESSAGE.MISSING_REDEEMER)));
                                const partial = toPartial(v2, red);
                                config.txBuilder.add_input(utxo.datum && utxo.datumHash ? input.plutus_script(partial, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusData"].from_cbor_hex(utxo.datum)) : input.plutus_script_inline_datum(partial, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                break;
                            }
                        case "PlutusV3":
                            {
                                const v3 = toV3(script.script);
                                const red = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>collectError(ERROR_MESSAGE.MISSING_REDEEMER)));
                                const partial = toPartial(v3, red);
                                config.txBuilder.add_input(utxo.datum && utxo.datumHash ? input.plutus_script(partial, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusData"].from_cbor_hex(utxo.datum)) : input.plutus_script_inline_datum(partial, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                break;
                            }
                    }
                } else {
                    config.txBuilder.add_input(input.payment_key());
                }
            }
        });
var collectFromUTxOPartial = (utxos, redeemerBuilder)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        if (utxos.length === 0) yield* collectError(ERROR_MESSAGE.EMPTY_UTXO);
        if (redeemerBuilder.kind === "self") redeemerBuilder.inputs = utxos;
        for (const utxo of utxos){
            if (utxo.datumHash && !utxo.datum) {
                const data = yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].tryPromise({
                    try: ()=>datumOf(config.lucidConfig.provider, utxo),
                    catch: (cause)=>collectError({
                            cause
                        })
                });
                utxo.datum = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$plutus$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Data"].to(data);
            }
            config.collectedInputs.push(utxo);
        }
        const partialProgram = collectFromUTxO(utxos, false);
        config.partialPrograms.set(redeemerBuilder, partialProgram);
    });
;
;
var readError = (cause)=>new TxBuilderError({
        cause: `{ Read : ${cause} }`
    });
var readFrom = (utxos)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        if (utxos.length === 0) yield* readError(ERROR_MESSAGE.EMPTY_UTXO);
        for (const utxo of utxos){
            const resolvedDatum = yield* resolveDatum(utxo.datumHash, utxo.datum, config.lucidConfig.provider);
            const coreUtxo = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["utxoToCore"])({
                ...utxo,
                datum: resolvedDatum
            });
            const exists = config.readInputs.some((input)=>input.txHash === utxo.txHash && input.outputIndex === utxo.outputIndex);
            if (!exists) {
                config.txBuilder.add_reference_input(coreUtxo);
                config.readInputs.push(utxo);
            }
        }
    });
;
var attachScript = ({ type, script })=>{
    switch(type){
        case "Native":
            return {
                key: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScript"].from_cbor_hex(script).hash().to_hex(),
                value: {
                    type,
                    script
                }
            };
        case "PlutusV1":
            return {
                key: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusV1Script"].from_cbor_hex((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["applyDoubleCborEncoding"])(script)).hash().to_hex(),
                value: {
                    type,
                    script: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["applyDoubleCborEncoding"])(script)
                }
            };
        case "PlutusV2":
            return {
                key: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusV2Script"].from_cbor_hex((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["applyDoubleCborEncoding"])(script)).hash().to_hex(),
                value: {
                    type,
                    script: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["applyDoubleCborEncoding"])(script)
                }
            };
        case "PlutusV3":
            return {
                key: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusV3Script"].from_cbor_hex((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["applyDoubleCborEncoding"])(script)).hash().to_hex(),
                value: {
                    type,
                    script: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["applyDoubleCborEncoding"])(script)
                }
            };
        default:
            throw new Error(`Exhaustive check failed: Unhandled case ${type}`);
    }
};
var attachSpendingValidator = (spendingValidator)=>attachScript(spendingValidator);
var attachMintingPolicy = (mintingPolicy)=>attachScript(mintingPolicy);
var attachCertificateValidator = (certValidator)=>attachScript(certValidator);
var attachWithdrawalValidator = (withdrawalValidator)=>attachScript(withdrawalValidator);
var attachVoteValidator = (voteValidator)=>attachScript(voteValidator);
var attachProposeValidator = (proposeValidator)=>attachScript(proposeValidator);
;
;
var payError = (cause)=>new TxBuilderError({
        cause: `{ Pay: ${cause} }`
    });
var payToAddress = (address, assets)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const outputBuilder = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionOutputBuilder"].new().with_address((yield* toCMLAddress(address, config.lucidConfig))).next();
        if (Object.keys(assets).length == 0) yield* payError(ERROR_MESSAGE.EMPTY_ASSETS);
        const value = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["assetsToValue"])(assets);
        let outputResult = outputBuilder.with_asset_and_min_required_coin(value.multi_asset(), config.lucidConfig.protocolParameters.coinsPerUtxoByte).build();
        const setLovelaces = assets["lovelace"];
        if (setLovelaces) {
            const minLovelace = outputResult.output().amount().coin();
            if (setLovelaces > minLovelace) {
                outputResult = outputBuilder.with_value(value).build();
            }
        }
        config.totalOutputAssets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addAssets"])(config.totalOutputAssets, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["valueToAssets"])(outputResult.output().amount()));
        config.payToOutputs = [
            ...config.payToOutputs,
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["coreToTxOutput"])(outputResult.output())
        ];
        config.txBuilder.add_output(outputResult);
    });
var ToAddressWithData = (address, outputDatum, assets, scriptRef)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const outputBuilder = buildBaseOutput(address, outputDatum, scriptRef);
        assets ??= {};
        const value = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["assetsToValue"])(assets);
        let outputResult = outputBuilder.with_asset_and_min_required_coin(value.multi_asset(), config.lucidConfig.protocolParameters.coinsPerUtxoByte).build();
        const setLovelaces = assets["lovelace"];
        if (setLovelaces) {
            const minLovelace = outputResult.output().amount().coin();
            if (setLovelaces > minLovelace) {
                outputResult = outputBuilder.with_value(value).build();
            }
        }
        config.totalOutputAssets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addAssets"])(config.totalOutputAssets, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["valueToAssets"])(outputResult.output().amount()));
        config.payToOutputs = [
            ...config.payToOutputs,
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["coreToTxOutput"])(outputResult.output())
        ];
        config.txBuilder.add_output(outputResult);
    });
var ToContract = (address, outputDatum, assets, scriptRef)=>ToAddressWithData(address, outputDatum, assets, scriptRef);
var buildBaseOutput = (address, outputDatum, scriptRef)=>{
    let baseBuilder;
    const addressBuilder = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionOutputBuilder"].new().with_address(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Address"].from_bech32(address));
    if (outputDatum) {
        if (outputDatum.value.trim() === "") {
            throw new Error("datum value is missing. Please provide a non-empty cbor hex data.");
        }
        switch(outputDatum.kind){
            case "hash":
                {
                    const datumOption = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DatumOption"].new_hash(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DatumHash"].from_hex(outputDatum.value));
                    baseBuilder = addressBuilder.with_data(datumOption);
                    break;
                }
            case "asHash":
                {
                    const plutusData = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusData"].from_cbor_hex(outputDatum.value);
                    baseBuilder = addressBuilder.with_communication_data(plutusData);
                    break;
                }
            case "inline":
                {
                    const plutusData = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PlutusData"].from_cbor_hex(outputDatum.value);
                    const datumOption = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DatumOption"].new_datum(plutusData);
                    baseBuilder = addressBuilder.with_data(datumOption);
                    break;
                }
            default:
                throw new Error(`Unknown outputDatum: ${outputDatum}`);
        }
    } else {
        baseBuilder = addressBuilder;
    }
    return scriptRef ? baseBuilder.with_reference_script((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toScriptRef"])(scriptRef)).next() : baseBuilder.next();
};
;
;
var mintError = (cause)=>new TxBuilderError({
        cause: `{ Mint: ${cause} }`
    });
var mintAssets = (assets)=>(redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
            const { config } = yield* TxConfig;
            const units = Object.keys(assets);
            const policyId = units[0].slice(0, 56);
            const mintAssets2 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MapAssetNameToNonZeroInt64"].new();
            for (const unit of units){
                if (unit.slice(0, 56) !== policyId) {
                    yield* mintError(ERROR_MESSAGE.MULTIPLE_POLICIES);
                }
                mintAssets2.insert(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AssetName"].from_hex(unit.slice(56)), assets[unit]);
            }
            const mintBuilder = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleMintBuilder"].new(mintAssets2);
            const policy = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.scripts.get(policyId)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>mintError(ERROR_MESSAGE.MISSING_POLICY(policyId))));
            switch(policy.type){
                case "Native":
                    config.txBuilder.add_mint(mintBuilder.native_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScript"].from_cbor_hex(policy.script), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScriptWitnessInfo"].assume_signature_count()));
                    break;
                case "PlutusV1":
                    {
                        const red = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>mintError(ERROR_MESSAGE.MISSING_REDEEMER)));
                        config.txBuilder.add_mint(mintBuilder.plutus_script(toPartial(toV1(policy.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                        break;
                    }
                case "PlutusV2":
                    {
                        const red = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>mintError(ERROR_MESSAGE.MISSING_REDEEMER)));
                        config.txBuilder.add_mint(mintBuilder.plutus_script(toPartial(toV2(policy.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                        break;
                    }
                case "PlutusV3":
                    {
                        const red = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>mintError(ERROR_MESSAGE.MISSING_REDEEMER)));
                        config.txBuilder.add_mint(mintBuilder.plutus_script(toPartial(toV3(policy.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                        break;
                    }
            }
        });
;
;
var validFrom = (unixTime)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const slot = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["unixTimeToSlot"])(config.lucidConfig.network, unixTime);
        config.txBuilder.set_validity_start_interval(BigInt(slot));
    });
var validTo = (unixTime)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const slot = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["unixTimeToSlot"])(config.lucidConfig.network, unixTime);
        config.txBuilder.set_ttl(BigInt(slot));
    });
;
;
var addSignerError = (cause)=>new TxBuilderError({
        cause: `{ Signer: ${cause} }`
    });
var addSigner = (address)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const addressDetails = yield* validateAddressDetails(address, config.lucidConfig);
        const credential = addressDetails.type === "Reward" ? yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(addressDetails.stakeCredential), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>addSignerError(ERROR_MESSAGE.MISSING_STAKE_CREDENTIAL))) : yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(addressDetails.paymentCredential), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>addSignerError(ERROR_MESSAGE.MISSING_PAYMENT_CREDENTIAL)));
        if (credential.type === "Script") yield* addSignerError(ERROR_MESSAGE.SCRIPT_CREDENTIAL_NOT_ALLOWED);
        return credential.hash;
    }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].flatMap((keyHash)=>addSignerKey(keyHash)));
var addSignerKey = (keyHash)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        config.txBuilder.add_required_signer(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_hex(keyHash));
    });
;
;
var stakeError = (cause)=>new TxBuilderError({
        cause: `{ Stake: ${cause} }`
    });
var registerStake = (rewardAddress)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const addressDetails = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateAddressDetails(rewardAddress, config.lucidConfig), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].andThen((address)=>address.type !== "Reward" ? stakeError(ERROR_MESSAGE.MISSING_REWARD_TYPE) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].succeed(address)));
        const stakeCredential = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(addressDetails.stakeCredential), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>stakeError(ERROR_MESSAGE.MISSING_STAKE_CREDENTIAL)));
        const credential = stakeCredential.type === "Key" ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_pub_key(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_hex(stakeCredential.hash)) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScriptHash"].from_hex(stakeCredential.hash));
        const certBuilder = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_stake_registration(credential));
        config.txBuilder.add_cert(certBuilder.skip_witness());
    });
var deRegisterStake = (rewardAddress, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const addressDetails = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateAddressDetails(rewardAddress, config.lucidConfig), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].andThen((address)=>address.type !== "Reward" ? stakeError(ERROR_MESSAGE.MISSING_REWARD_TYPE) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].succeed(address)));
        const stakeCredential = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(addressDetails.stakeCredential), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>stakeError(ERROR_MESSAGE.MISSING_STAKE_CREDENTIAL)));
        const createCertBuilder = (credential, config2)=>{
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_unreg_cert(credential, config2.lucidConfig.protocolParameters.keyDeposit));
        };
        switch(stakeCredential.type){
            case "Key":
                {
                    const credential = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_pub_key(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_hex(stakeCredential.hash));
                    const certBuilder = createCertBuilder(credential, config);
                    config.txBuilder.add_cert(certBuilder.payment_key());
                    break;
                }
            case "Script":
                {
                    const credential = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScriptHash"].from_hex(stakeCredential.hash));
                    const certBuilder = createCertBuilder(credential, config);
                    const script = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.scripts.get(stakeCredential.hash)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>stakeError(ERROR_MESSAGE.MISSING_SCRIPT(stakeCredential.hash))));
                    const handleRedeemer = ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>stakeError(ERROR_MESSAGE.MISSING_REDEEMER)));
                    switch(script.type){
                        case "PlutusV1":
                            {
                                const red = yield* handleRedeemer();
                                config.txBuilder.add_cert(certBuilder.plutus_script(toPartial(toV1(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                break;
                            }
                        case "PlutusV2":
                            {
                                const red = yield* handleRedeemer();
                                config.txBuilder.add_cert(certBuilder.plutus_script(toPartial(toV2(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                break;
                            }
                        case "PlutusV3":
                            {
                                const red = yield* handleRedeemer();
                                config.txBuilder.add_cert(certBuilder.plutus_script(toPartial(toV3(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                break;
                            }
                        case "Native":
                            {
                                config.txBuilder.add_cert(certBuilder.native_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScript"].from_cbor_hex(script.script), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScriptWitnessInfo"].assume_signature_count()));
                                break;
                            }
                    }
                }
        }
    });
var withdraw = (rewardAddress, amount)=>(redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
            const { config } = yield* TxConfig;
            const addressDetails = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateAddressDetails(rewardAddress, config.lucidConfig), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].andThen((address)=>address.type !== "Reward" ? stakeError(ERROR_MESSAGE.MISSING_REWARD_TYPE) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].succeed(address)));
            const withdrawBuilder = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RewardAddress"].from_address(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Address"].from_bech32(rewardAddress))), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>stakeError(ERROR_MESSAGE.MISSING_STAKE_CREDENTIAL)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].andThen((address)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleWithdrawalBuilder"].new(address, amount)));
            const stakeCredential = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(addressDetails.stakeCredential), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>stakeError(ERROR_MESSAGE.MISSING_STAKE_CREDENTIAL)));
            const handleRedeemer = ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>stakeError(ERROR_MESSAGE.MISSING_REDEEMER)));
            switch(stakeCredential.type){
                case "Key":
                    {
                        config.txBuilder.add_withdrawal(withdrawBuilder.payment_key());
                        break;
                    }
                case "Script":
                    {
                        const script = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.scripts.get(stakeCredential.hash)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>stakeError(ERROR_MESSAGE.MISSING_SCRIPT(stakeCredential.hash))));
                        switch(script.type){
                            case "PlutusV1":
                                {
                                    const red = yield* handleRedeemer();
                                    config.txBuilder.add_withdrawal(withdrawBuilder.plutus_script(toPartial(toV1(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                    break;
                                }
                            case "PlutusV2":
                                {
                                    const red = yield* handleRedeemer();
                                    config.txBuilder.add_withdrawal(withdrawBuilder.plutus_script(toPartial(toV2(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                    break;
                                }
                            case "PlutusV3":
                                {
                                    const red = yield* handleRedeemer();
                                    config.txBuilder.add_withdrawal(withdrawBuilder.plutus_script(toPartial(toV3(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                    break;
                                }
                            case "Native":
                                {
                                    config.txBuilder.add_withdrawal(withdrawBuilder.native_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScript"].from_cbor_hex(script.script), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScriptWitnessInfo"].assume_signature_count()));
                                    break;
                                }
                        }
                    }
            }
        });
;
;
;
var poolError = (cause)=>new TxBuilderError({
        cause: `{ Pool : ${cause} }`
    });
var delegateTo = (rewardAddress, poolId, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const addressDetails = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateAddressDetails(rewardAddress, config.lucidConfig), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].andThen((address)=>address.type !== "Reward" ? poolError(ERROR_MESSAGE.MISSING_REWARD_TYPE) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].succeed(address)));
        const stakeCredential = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(addressDetails.stakeCredential), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>poolError(ERROR_MESSAGE.MISSING_STAKE_CREDENTIAL)));
        switch(stakeCredential.type){
            case "Key":
                {
                    const credential = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_pub_key(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_hex(stakeCredential.hash));
                    const certBuilder = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_stake_delegation(credential, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_bech32(poolId)));
                    config.txBuilder.add_cert(certBuilder.payment_key());
                    break;
                }
            case "Script":
                {
                    const credential = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScriptHash"].from_hex(stakeCredential.hash));
                    const certBuilder = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_stake_delegation(credential, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_bech32(poolId)));
                    const script = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.scripts.get(stakeCredential.hash)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>poolError(ERROR_MESSAGE.MISSING_SCRIPT(stakeCredential.hash))));
                    const handleRedeemer = ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>poolError(ERROR_MESSAGE.MISSING_REDEEMER)));
                    switch(script.type){
                        case "PlutusV1":
                            {
                                const red = yield* handleRedeemer();
                                config.txBuilder.add_cert(certBuilder.plutus_script(toPartial(toV1(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                break;
                            }
                        case "PlutusV2":
                            {
                                const red = yield* handleRedeemer();
                                config.txBuilder.add_cert(certBuilder.plutus_script(toPartial(toV2(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                break;
                            }
                        case "PlutusV3":
                            {
                                const red = yield* handleRedeemer();
                                config.txBuilder.add_cert(certBuilder.plutus_script(toPartial(toV3(script.script), red), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHashList"].new()));
                                break;
                            }
                        case "Native":
                            {
                                config.txBuilder.add_cert(certBuilder.native_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScript"].from_cbor_hex(script.script), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NativeScriptWitnessInfo"].assume_signature_count()));
                                break;
                            }
                    }
                }
        }
    });
;
;
var isDRepCredential = (deleg)=>!("__typename" in deleg);
var isDRepAlwaysAbstain = (deleg)=>!isDRepCredential(deleg) && deleg.__typename === "AlwaysAbstain";
var isDRepAlwaysNoConfidence = (deleg)=>!isDRepCredential(deleg) && deleg.__typename === "AlwaysNoConfidence";
var toCMLDRep = (drep)=>{
    if (isDRepAlwaysAbstain(drep)) {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DRep"].new_always_abstain();
    } else if (isDRepAlwaysNoConfidence(drep)) {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DRep"].new_always_no_confidence();
    } else if (isDRepCredential(drep)) {
        switch(drep.type){
            case "Key":
                return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DRep"].new_key(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_hex(drep.hash));
            case "Script":
                return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DRep"].new_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScriptHash"].from_hex(drep.hash));
            default:
                throw new Error(`Unsupported DRep type: ${drep.type}`);
        }
    }
    throw new Error(`Unexpected DRep type: ${drep}`);
};
var delegateVoteToDRep = (rewardAddress, drep, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const stakeCredential = yield* validateAndGetStakeCredential(rewardAddress, config);
        const cmlDRep = toCMLDRep(drep);
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_vote_deleg_cert(credential, cmlDRep));
        yield* processCertificate(stakeCredential, config, buildCert, redeemer);
    });
var delegateVoteToPoolAndDRep = (rewardAddress, poolId, drep, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const stakeCredential = yield* validateAndGetStakeCredential(rewardAddress, config);
        const cmlDRep = toCMLDRep(drep);
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_stake_vote_deleg_cert(credential, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_bech32(poolId), cmlDRep));
        yield* processCertificate(stakeCredential, config, buildCert, redeemer);
    });
var registerAndDelegateToPool = (rewardAddress, poolId, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const stakeCredential = yield* validateAndGetStakeCredential(rewardAddress, config);
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_stake_reg_deleg_cert(credential, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_bech32(poolId), config.lucidConfig.protocolParameters.keyDeposit));
        yield* processCertificate(stakeCredential, config, buildCert, redeemer);
    });
var registerAndDelegateToDRep = (rewardAddress, drep, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const stakeCredential = yield* validateAndGetStakeCredential(rewardAddress, config);
        const cmlDRep = toCMLDRep(drep);
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_vote_reg_deleg_cert(credential, cmlDRep, config.lucidConfig.protocolParameters.keyDeposit));
        yield* processCertificate(stakeCredential, config, buildCert, redeemer);
    });
var registerAndDelegateToPoolAndDRep = (rewardAddress, poolId, drep, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const stakeCredential = yield* validateAndGetStakeCredential(rewardAddress, config);
        const cmlDRep = toCMLDRep(drep);
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_stake_vote_reg_deleg_cert(credential, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_bech32(poolId), cmlDRep, config.lucidConfig.protocolParameters.keyDeposit));
        yield* processCertificate(stakeCredential, config, buildCert, redeemer);
    });
var registerDRep = (rewardAddress, anchor, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const stakeCredential = yield* validateAndGetStakeCredential(rewardAddress, config);
        const cmlAnchor = anchor ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Anchor"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Url"].from_json(anchor.url), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AnchorDocHash"].from_hex(anchor.dataHash)) : void 0;
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_reg_drep_cert(credential, config.lucidConfig.protocolParameters.drepDeposit, cmlAnchor));
        yield* processCertificate(stakeCredential, config, buildCert, redeemer);
    });
var deregisterDRep = (rewardAddress, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const stakeCredential = yield* validateAndGetStakeCredential(rewardAddress, config);
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_unreg_drep_cert(credential, config.lucidConfig.protocolParameters.drepDeposit));
        yield* processCertificate(stakeCredential, config, buildCert, redeemer);
    });
var updateDRep = (rewardAddress, anchor, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const stakeCredential = yield* validateAndGetStakeCredential(rewardAddress, config);
        const cmlAnchor = anchor ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Anchor"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Url"].from_json(anchor.url), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AnchorDocHash"].from_hex(anchor.dataHash)) : void 0;
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_update_drep_cert(credential, cmlAnchor));
        yield* processCertificate(stakeCredential, config, buildCert, redeemer);
    });
var authCommitteeHot = (coldAddress, hotAddress, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const coldCred = yield* validateAndGetStakeCredential(coldAddress, config);
        const hotCred = yield* validateAndGetStakeCredential(hotAddress, config);
        const hotCredential = hotCred.type === "Key" ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_pub_key(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Ed25519KeyHash"].from_hex(hotCred.hash)) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Credential"].new_script(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScriptHash"].from_hex(hotCred.hash));
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_auth_committee_hot_cert(credential, hotCredential));
        yield* processCertificate(coldCred, config, buildCert, redeemer);
    });
var resignCommitteeHot = (coldAddress, anchor, redeemer)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const coldCred = yield* validateAndGetStakeCredential(coldAddress, config);
        const cmlAnchor = anchor ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Anchor"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Url"].from_json(anchor.url), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AnchorDocHash"].from_hex(anchor.dataHash)) : void 0;
        const buildCert = (credential)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleCertificateBuilder"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Certificate"].new_resign_committee_cold_cert(credential, cmlAnchor));
        yield* processCertificate(coldCred, config, buildCert, redeemer);
    });
;
;
;
var attachMetadata = (config, label, metadata)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const auxiliaryData = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AuxiliaryData"].new();
        const meta = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Metadata"].new();
        meta.set(BigInt(label), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionMetadatum"].from_json(JSON.stringify(toCardanoMetadata(metadata))));
        auxiliaryData.add_metadata(meta);
        config.txBuilder.add_auxiliary_data(auxiliaryData);
        auxiliaryData.free();
        meta.free();
    });
var TextSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["String"].pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["maxLength"](64));
var TransactionMetadataSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Union"](TextSchema, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Number"], __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Uint8ArrayFromSelf"], __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Array"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["suspend"](()=>TransactionMetadataSchema)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Record"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["String"], __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["suspend"](()=>TransactionMetadataSchema)));
var toCardanoMetadata = (json)=>{
    const d = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$ParseResult$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["asserts"](TransactionMetadataSchema)(json);
    if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$ParseResult$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["is"](TextSchema)(json)) {
        return {
            string: json
        };
    }
    if (typeof json === "number") {
        return {
            int: json
        };
    }
    if (json instanceof Uint8Array) {
        return {
            bytes: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$core$2d$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toHex"])(json)
        };
    }
    if (Array.isArray(json)) {
        return {
            list: json.map((value)=>toCardanoMetadata(value))
        };
    }
    if (typeof json === "object" && json !== null) {
        const mapEntries = Object.entries(json).map(([k, v])=>({
                k: toCardanoMetadata(k),
                v: toCardanoMetadata(v)
            }));
        return {
            map: mapEntries
        };
    }
    throw new Error("Unsupported type");
};
;
;
;
;
;
;
var makeSubmit = (wallet, txSigned)=>{
    const submit = (options)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].tryPromise({
            try: ()=>wallet.submitTx(options.canonical ? txSigned.to_canonical_cbor_hex() : txSigned.to_cbor_hex()),
            catch: (cause)=>new TxSubmitError({
                    cause
                })
        });
    return {
        submit: (options = {
            canonical: false
        })=>makeReturn(submit(options)).unsafeRun(),
        submitProgram: (options = {
            canonical: false
        })=>submit(options),
        submitSafe: (options = {
            canonical: false
        })=>makeReturn(submit(options)).safeRun(),
        toCBOR: (options = {
            canonical: false
        })=>options.canonical ? txSigned.to_canonical_cbor_hex() : txSigned.to_cbor_hex(),
        toTransaction: ()=>txSigned,
        toJSON: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$ParseResult$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeUnknownSync"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["parseJson"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Object"]))(txSigned.to_json()),
        toHash: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hash_transaction"](txSigned.body()).to_hex()
    };
};
;
var signError = (cause)=>new TxSignerError({
        cause
    });
var mkWitnessFromWallet = (wallet, txComplete)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(wallet), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].catchAll(()=>signError(ERROR_MESSAGE.MISSING_WALLET)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].tryMapPromise({
        try: (wallet2)=>wallet2.signTx(txComplete),
        catch: (cause)=>signError(cause)
    }));
var withWallet = (config)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(mkWitnessFromWallet(config.wallet, config.txComplete), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((witness)=>config.witnessSetBuilder.add_existing(witness)));
var partialWithWallet = (config)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(mkWitnessFromWallet(config.wallet, config.txComplete), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((witness)=>witness.to_cbor_hex()));
var mkWitnessFromPrivateKey = (privateKey, txComplete)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].try({
        try: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PrivateKey"].from_bech32(privateKey),
        catch: signError
    }), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((privateKey2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["make_vkey_witness"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hash_transaction"](txComplete.body()), privateKey2)));
var withPrivateKey = (config, privateKey)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(mkWitnessFromPrivateKey(privateKey, config.txComplete), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((witness)=>config.witnessSetBuilder.add_vkey(witness)));
var partialWithPrivateKey = (config, privateKey)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(mkWitnessFromPrivateKey(privateKey, config.txComplete), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((witness)=>{
        const witnessBuilder = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionWitnessSetBuilder"].new();
        witnessBuilder.add_vkey(witness);
        return witnessBuilder.build().to_cbor_hex();
    }));
var assemble = (config, witnesses)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].forEach(witnesses, (witness)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].try({
            try: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionWitnessSet"].from_cbor_hex(witness),
            catch: signError
        }), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((witness2)=>config.witnessSetBuilder.add_existing(witness2))));
// src/tx-sign-builder/internal/CompleteTxSigner.ts
var completeTxSigner = (config)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].all(config.programs, {
            concurrency: "unbounded"
        });
        const plutus_datums = config.txComplete.witness_set().plutus_datums();
        config.witnessSetBuilder.add_existing(config.txComplete.witness_set());
        if (plutus_datums) {
            for(let i = 0; i < plutus_datums.len(); i++){
                config.witnessSetBuilder.add_plutus_datum(plutus_datums.get(i));
            }
        }
        const txWitnessSet = config.witnessSetBuilder.build();
        const signedTx = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Transaction"].new(config.txComplete.body(), txWitnessSet, true, config.txComplete.auxiliary_data());
        const wallet = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.wallet), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>signError(ERROR_MESSAGE.MISSING_WALLET)));
        return makeSubmit(wallet, signedTx);
    }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].catchAllDefect((cause)=>new RunTimeError({
            cause
        })));
// src/tx-sign-builder/TxSignBuilder.ts
var makeTxSignBuilder = (wallet, tx)=>{
    const redeemers = tx.witness_set().redeemers();
    const exUnits = {
        cpu: 0,
        mem: 0
    };
    if (redeemers) {
        const arrLegacyRedeemer = redeemers?.as_arr_legacy_redeemer();
        if (arrLegacyRedeemer) {
            for(let i = 0; i < arrLegacyRedeemer.len(); i++){
                const redeemer = arrLegacyRedeemer.get(i);
                exUnits.cpu += parseInt(redeemer.ex_units().steps().toString());
                exUnits.mem += parseInt(redeemer.ex_units().mem().toString());
            }
        }
        const mapRedeemerKeyToRedeemerVal = redeemers?.as_map_redeemer_key_to_redeemer_val();
        if (mapRedeemerKeyToRedeemerVal) {
            const keys = mapRedeemerKeyToRedeemerVal.keys();
            for(let i = 0; i < (keys.len() || 0); i++){
                const key = keys.get(i);
                const value = mapRedeemerKeyToRedeemerVal.get(key);
                exUnits.cpu += parseInt(value.ex_units().steps().toString());
                exUnits.mem += parseInt(value.ex_units().mem().toString());
            }
        }
    }
    const config = {
        txComplete: tx,
        witnessSetBuilder: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionWitnessSetBuilder"].new(),
        programs: [],
        wallet,
        fee: parseInt(tx.body().fee().toString()),
        exUnits
    };
    const txSignBuilder = {
        sign: {
            withWallet: ()=>{
                const program = withWallet(config);
                config.programs.push(program);
                return txSignBuilder;
            },
            withPrivateKey: (privateKey)=>{
                const program = withPrivateKey(config, privateKey);
                config.programs.push(program);
                return txSignBuilder;
            }
        },
        partialSign: {
            withWallet: ()=>makeReturn(partialWithWallet(config)).unsafeRun(),
            withWalletEffect: ()=>partialWithWallet(config),
            withWalletSafe: ()=>makeReturn(partialWithWallet(config)).safeRun(),
            withPrivateKey: (privateKey)=>makeReturn(partialWithPrivateKey(config, privateKey)).unsafeRun(),
            withPrivateKeyEffect: (privateKey)=>partialWithPrivateKey(config, privateKey),
            withPrivateKeySafe: (privateKey)=>makeReturn(partialWithPrivateKey(config, privateKey)).safeRun()
        },
        assemble: (witnesses)=>{
            const program = assemble(config, witnesses);
            config.programs.push(program);
            return txSignBuilder;
        },
        toCBOR: (options = {
            canonical: false
        })=>options.canonical ? config.txComplete.to_canonical_cbor_hex() : config.txComplete.to_cbor_hex(),
        toTransaction: ()=>config.txComplete,
        toJSON: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$ParseResult$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeUnknownSync"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["parseJson"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$effect$2f$schema$2f$dist$2f$esm$2f$Schema$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Object"]))(config.txComplete.to_json()),
        toHash: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hash_transaction"](config.txComplete.body()).to_hex(),
        complete: ()=>makeReturn(completeTxSigner(config)).unsafeRun(),
        completeProgram: ()=>completeTxSigner(config),
        completeSafe: ()=>makeReturn(completeTxSigner(config)).safeRun()
    };
    return txSignBuilder;
};
;
;
;
var completeTxError = (cause)=>new TxBuilderError({
        cause: `{ Complete: ${cause} }`
    });
var complete = (options = {})=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const wallet = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.lucidConfig.wallet), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>completeTxError(ERROR_MESSAGE.MISSING_WALLET)));
        const walletAddress = yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].promise(()=>wallet.address());
        const { coinSelection = true, changeAddress = walletAddress, localUPLCEval = true, setCollateral = 5000000n, canonical = false, includeLeftoverLovelaceAsFee = false, presetWalletInputs = [] } = options;
        const walletInputs = presetWalletInputs.length === 0 ? yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].tryPromise({
            try: ()=>wallet.getUtxos(),
            catch: (error)=>completeTxError(error)
        }) : presetWalletInputs;
        yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].all(config.programs);
        const hasPlutusScriptExecutions = Array.from(config.scripts.values()).some((value)=>value.type !== "Native");
        yield* selectionAndEvaluation(walletInputs, changeAddress, coinSelection, localUPLCEval, includeLeftoverLovelaceAsFee, false);
        if (hasPlutusScriptExecutions) {
            const minFee = config.txBuilder.min_fee(true);
            const refScriptFee = yield* calculateMinRefScriptFee(config);
            let estimatedFee = minFee + refScriptFee;
            const totalCollateral = BigInt(Math.ceil(Math.max(config.lucidConfig.protocolParameters.collateralPercentage * Number(estimatedFee) / 100, Number(setCollateral))));
            const collateralInput = yield* findCollateral(config.lucidConfig.protocolParameters.coinsPerUtxoByte, totalCollateral, walletInputs);
            yield* applyCollateral(totalCollateral, collateralInput, changeAddress);
            yield* selectionAndEvaluation(walletInputs, changeAddress, coinSelection, localUPLCEval, includeLeftoverLovelaceAsFee, true);
        }
        config.txBuilder.add_change_if_needed(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Address"].from_bech32(changeAddress), true);
        const transaction = yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].try({
            try: ()=>config.txBuilder.build(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ChangeSelectionAlgo"].Default, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Address"].from_bech32(changeAddress)).build_unchecked(),
            catch: (error)=>completeTxError(error)
        });
        const derivedInputs = deriveInputsFromTransaction(transaction);
        const derivedWalletInputs = derivedInputs.filter((utxo)=>utxo.address === walletAddress);
        const updatedWalletInputs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__["Array"].differenceWith(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isEqualUTxO"])(walletInputs, config.consumedInputs), (availableWalletInputs)=>[
                ...derivedWalletInputs,
                ...availableWalletInputs
            ]);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Tuple$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Tuple$3e$__["Tuple"].make(updatedWalletInputs, derivedInputs, makeTxSignBuilder(config.lucidConfig.wallet, canonical ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Transaction"].from_cbor_bytes(transaction.to_canonical_cbor_bytes()) : transaction));
    }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].catchAllDefect((cause)=>new RunTimeError({
            cause
        })));
var selectionAndEvaluation = (walletInputs, changeAddress, coinSelection, localUPLCEval, includeLeftoverLovelaceAsFee, script_calculation)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const refScriptInputs = config.readInputs.filter((input)=>input.scriptRef);
        const availableInputs = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__["Array"].differenceWith(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isEqualUTxO"])(walletInputs, [
            ...config.collectedInputs,
            ...refScriptInputs
        ]);
        const { selected: inputsToAdd, burnable } = coinSelection !== false ? yield* doCoinSelection(config, availableInputs, script_calculation, includeLeftoverLovelaceAsFee) : {
            selected: [],
            burnable: {
                lovelace: 0n
            }
        };
        let estimatedFee = 0n;
        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__["Array"].isEmptyArray(inputsToAdd)) {
            if (script_calculation) return;
            estimatedFee += burnable.lovelace;
        }
        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__["Array"].isNonEmptyArray(inputsToAdd)) {
            for (const utxo of inputsToAdd){
                const input = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleInputBuilder"].from_transaction_unspent_output((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["utxoToCore"])(utxo)).payment_key();
                config.txBuilder.add_input(input);
            }
            config.collectedInputs = [
                ...config.collectedInputs,
                ...inputsToAdd
            ];
            estimatedFee = yield* estimateFee(config, script_calculation);
        }
        config.consumedInputs = [
            ...config.collectedInputs
        ];
        if (config.partialPrograms.size > 0) {
            if (script_calculation) {
                yield* completeTxError(`RedeemerBuilder: Coin selection had to be updated after building redeemers, possibly leading to incorrect indices. Try setting a minimum fee of ${estimatedFee} lovelaces.`);
            } else yield* completePartialPrograms();
        }
        const txRedeemerBuilder = yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].try({
            try: ()=>config.txBuilder.build_for_evaluation(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Address"].from_bech32(changeAddress)),
            catch: (error)=>completeTxError(error)
        });
        if (txRedeemerBuilder.draft_tx().witness_set().redeemers()) {
            if (localUPLCEval !== false) {
                applyUPLCEval((yield* evalTransaction(config, txRedeemerBuilder, walletInputs)), config.txBuilder);
            } else {
                applyUPLCEvalProvider((yield* evalTransactionProvider(config, txRedeemerBuilder, walletInputs)), config.txBuilder);
            }
        }
    }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].catchAllDefect((cause)=>new RunTimeError({
            cause
        })));
var completePartialPrograms = ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        const sortedInputs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sortUTxOs"])(config.collectedInputs, "Canonical");
        const indicesMap = /* @__PURE__ */ new Map();
        sortedInputs.forEach((value, index)=>{
            indicesMap.set(value.txHash + value.outputIndex, BigInt(index));
        });
        const newPrograms = [];
        for (const [redeemerBuilder, partialProgram] of config.partialPrograms.entries()){
            if (redeemerBuilder.kind === "selected") {
                const inputIndices = redeemerBuilder.inputs.flatMap((value)=>{
                    const index = indicesMap.get(value.txHash + value.outputIndex);
                    if (index !== void 0) return index;
                    else return [];
                });
                if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__["Array"].isEmptyArray(inputIndices) || inputIndices.length !== redeemerBuilder.inputs.length) yield* completeTxError(`RedeemerBuilder: Missing indices for inputs: ${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stringify"])(redeemerBuilder.inputs)}`);
                const redeemer = redeemerBuilder.makeRedeemer(inputIndices);
                const program = partialProgram(redeemer);
                newPrograms.push(program);
            } else {
                const inputs = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(redeemerBuilder.inputs), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>completeTxError(`RedeemerBuilder: Inputs for redeemer builder not founds: ${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stringify"])(redeemerBuilder)}`)));
                for (const input of inputs){
                    const index = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(indicesMap.get(input.txHash + input.outputIndex)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>completeTxError(`Index not found for input: ${input}`)));
                    const redeemer = redeemerBuilder.makeRedeemer(index);
                    const program = collectFromUTxO([
                        input
                    ], false)(redeemer);
                    newPrograms.push(program);
                }
            }
        }
        yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].all(newPrograms);
    });
var applyUPLCEval = (uplcEval, txbuilder)=>{
    for (const bytes of uplcEval){
        const redeemer = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LegacyRedeemer"].from_cbor_bytes(bytes);
        const exUnits = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ExUnits"].new(redeemer.ex_units().mem(), redeemer.ex_units().steps());
        txbuilder.set_exunits(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RedeemerWitnessKey"].new(redeemer.tag(), redeemer.index()), exUnits);
    }
};
var applyUPLCEvalProvider = (evalRedeemerList, txbuilder)=>{
    for (const evalRedeemer of evalRedeemerList){
        const exUnits = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ExUnits"].new(BigInt(evalRedeemer.ex_units.mem), BigInt(evalRedeemer.ex_units.steps));
        txbuilder.set_exunits(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RedeemerWitnessKey"].new((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toCMLRedeemerTag"])(evalRedeemer.redeemer_tag), BigInt(evalRedeemer.redeemer_index)), exUnits);
    }
};
var setRedeemerstoZero = (tx)=>{
    const redeemers = tx.witness_set().redeemers();
    if (!redeemers) return tx;
    const arrLegacyRedeemer = redeemers.as_arr_legacy_redeemer();
    if (arrLegacyRedeemer) {
        const redeemerList = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LegacyRedeemerList"].new();
        for(let i = 0; i < arrLegacyRedeemer.len(); i++){
            const redeemer = arrLegacyRedeemer.get(i);
            const dummyRedeemer = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LegacyRedeemer"].new(redeemer.tag(), redeemer.index(), redeemer.data(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ExUnits"].new(0n, 0n));
            redeemerList.add(dummyRedeemer);
        }
        const dummyWitnessSet = tx.witness_set();
        dummyWitnessSet.set_redeemers(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Redeemers"].new_arr_legacy_redeemer(redeemerList));
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Transaction"].new(tx.body(), dummyWitnessSet, true, tx.auxiliary_data());
    }
    const mapRedeemerKeyToRedeemerVal = redeemers.as_map_redeemer_key_to_redeemer_val();
    if (mapRedeemerKeyToRedeemerVal) {
        const dummyWitnessSet = tx.witness_set();
        dummyWitnessSet.set_redeemers(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Redeemers"].new_map_redeemer_key_to_redeemer_val(mapRedeemerKeyToRedeemerVal));
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Transaction"].new(tx.body(), dummyWitnessSet, true, tx.auxiliary_data());
    }
    return tx;
};
var applyCollateral = (setCollateral, collateralInputs, changeAddress)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const { config } = yield* TxConfig;
        for (const utxo of collateralInputs){
            const collateralInput = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SingleInputBuilder"].from_transaction_unspent_output((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["utxoToCore"])(utxo)).payment_key();
            config.txBuilder.add_collateral(collateralInput);
        }
        const returnassets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(sumAssetsFromInputs(collateralInputs), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].union({
            lovelace: -setCollateral
        }, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$BigInt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__BigInt$3e$__["BigInt"].sum));
        const collateralOutputBuilder = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionOutputBuilder"].new().with_address(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Address"].from_bech32(changeAddress));
        config.txBuilder.set_collateral_return(collateralOutputBuilder.next().with_value((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["assetsToValue"])(returnassets)).build().output());
    });
var findCollateral = (coinsPerUtxoByte, setCollateral, inputs)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const collateralLovelace = {
            lovelace: setCollateral
        };
        const error = completeTxError(`Your wallet does not have enough funds to cover the required ${setCollateral} Lovelace collateral. Or it contains UTxOs with reference scripts; which
      are excluded from collateral selection.`);
        const { selected } = yield* recursive((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sortUTxOs"])(inputs), collateralLovelace, coinsPerUtxoByte, void 0, false, error);
        if (selected.length > 3) yield* completeTxError(`Selected ${selected.length} inputs as collateral, but max collateral inputs is 3 to cover the ${setCollateral} Lovelace collateral ${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stringify"])(selected)}`);
        return selected;
    });
var doCoinSelection = (config, availableInputs, script_calculation, includeLeftoverLovelaceAsFee)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const estimatedFee = {
            lovelace: yield* estimateFee(config, script_calculation)
        };
        const negatedMintedAssets = negateAssets(config.mintedAssets);
        const negatedCollectedAssets = negateAssets(sumAssetsFromInputs(config.collectedInputs));
        const assetsDelta = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(config.totalOutputAssets, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].union(estimatedFee, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$BigInt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__BigInt$3e$__["BigInt"].sum), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].union(negatedCollectedAssets, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$BigInt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__BigInt$3e$__["BigInt"].sum), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].union(negatedMintedAssets, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$BigInt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__BigInt$3e$__["BigInt"].sum));
        let requiredAssets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(assetsDelta, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].filter((amount)=>amount > 0n));
        const notRequiredAssets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(assetsDelta, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].filter((amount)=>amount < 0n), negateAssets);
        return yield* recursive((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sortUTxOs"])(availableInputs), requiredAssets, config.lucidConfig.protocolParameters.coinsPerUtxoByte, notRequiredAssets, includeLeftoverLovelaceAsFee);
    });
var estimateFee = (config, script_calculation)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const minFee = config.txBuilder.min_fee(script_calculation);
        const refScriptFee = yield* calculateMinRefScriptFee(config);
        let estimatedFee = minFee + refScriptFee;
        const customMinFee = config.minFee;
        if (customMinFee !== void 0 && customMinFee > minFee || refScriptFee > 0n) {
            estimatedFee = customMinFee ? customMinFee > estimatedFee ? customMinFee : estimatedFee : estimatedFee;
            config.txBuilder.set_fee(estimatedFee);
        }
        return estimatedFee;
    });
var evalTransactionProvider = (config, txRedeemerBuilder, walletInputs)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const txEvaluation = setRedeemerstoZero(txRedeemerBuilder.draft_tx());
        const txUtxos = [
            ...config.collectedInputs,
            ...config.readInputs
        ].map(({ datumHash, datum, ...rest })=>({
                ...rest,
                datumHash,
                datum: datumHash ? void 0 : datum
            }));
        const uplc_eval = yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].tryPromise({
            try: ()=>config.lucidConfig.provider.evaluateTx(txEvaluation.to_cbor_hex(), txUtxos),
            catch: (error)=>completeTxError(error)
        });
        return uplc_eval;
    });
var evalTransaction = (config, txRedeemerBuilder, walletInputs)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        const txEvaluation = setRedeemerstoZero(txRedeemerBuilder.draft_tx());
        const txUtxos = [
            ...walletInputs,
            ...config.collectedInputs,
            ...config.readInputs
        ].map(({ datumHash, datum, ...rest })=>({
                ...rest,
                datumHash,
                datum: datumHash ? void 0 : datum
            }));
        const ins = txUtxos.map((utxo)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["utxoToTransactionInput"])(utxo));
        const outs = txUtxos.map((utxo)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["utxoToTransactionOutput"])(utxo));
        const slotConfig = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$plutus$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SLOT_CONFIG_NETWORK"][config.lucidConfig.network];
        const uplc_eval = yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].try({
            try: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$uplc$2f$dist$2f$browser$2f$uplc_tx_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["eval_phase_two_raw"](txEvaluation.to_cbor_bytes(), ins.map((value)=>value.to_cbor_bytes()), outs.map((value)=>value.to_cbor_bytes()), config.lucidConfig.costModels.to_cbor_bytes(), config.lucidConfig.protocolParameters.maxTxExSteps, config.lucidConfig.protocolParameters.maxTxExMem, BigInt(slotConfig.zeroTime), BigInt(slotConfig.zeroSlot), slotConfig.slotLength),
            catch: (error)=>completeTxError(`${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Predicate$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isError"])(error) ? error : JSON.stringify(error).replace(/\\n\s*/g, " ").trim()}`)
        });
        return uplc_eval;
    });
var calculateMinLovelace = (coinsPerUtxoByte, multiAssets, changeAddress)=>{
    const dummyAddress = "addr_test1qrngfyc452vy4twdrepdjc50d4kvqutgt0hs9w6j2qhcdjfx0gpv7rsrjtxv97rplyz3ymyaqdwqa635zrcdena94ljs0xy950";
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionOutputBuilder"].new().with_address(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Address"].from_bech32(changeAddress ? changeAddress : dummyAddress)).next().with_asset_and_min_required_coin(multiAssets ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["assetsToValue"])(multiAssets).multi_asset() : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MultiAsset"].new(), coinsPerUtxoByte).build().output().amount().coin();
};
var calculateMinRefScriptFee = (config)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        let fee = 0n;
        let totalScriptSize = 0;
        for (const utxo of config.readInputs){
            if (utxo.scriptRef) {
                totalScriptSize = totalScriptSize + utxo.scriptRef.script.length / 2;
            }
        }
        for (const utxo of config.collectedInputs){
            if (utxo.scriptRef) {
                totalScriptSize = totalScriptSize + utxo.scriptRef.script.length / 2;
            }
        }
        if (totalScriptSize === 0) return fee;
        const fees = [
            15,
            18,
            21.6,
            25.92,
            31.1,
            37.32,
            44.79,
            53.75
        ];
        let counter = 0;
        while(totalScriptSize > 0){
            if (counter > fees.length - 1) {
                yield* completeTxError("Total reference script size in a transaction cannot exceed 200,000 bytes.");
            }
            if (totalScriptSize > 25e3) fee = fee + BigInt(Math.ceil(25e3 * fees[counter]));
            else fee = fee + BigInt(Math.ceil(totalScriptSize * fees[counter]));
            totalScriptSize = totalScriptSize - 25e3;
            counter++;
        }
        return fee;
    });
var deriveInputsFromTransaction = (tx)=>{
    const outputs = tx.body().outputs();
    const txHash = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hash_transaction"](tx.body()).to_hex();
    const utxos = [];
    for(let index = 0; index < outputs.len(); index++){
        const output = outputs.get(index);
        const utxo = {
            txHash,
            outputIndex: index,
            ...(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["coreToTxOutput"])(output)
        };
        utxos.push(utxo);
    }
    return utxos;
};
var negateAssets = (assets)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].map(assets, (amount)=>-amount);
var sumAssetsFromInputs = (inputs)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__["Array"].isEmptyArray(inputs) ? {} : inputs.map((utxo)=>utxo.assets).reduce((acc, cur)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].union(acc, cur, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$BigInt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__BigInt$3e$__["BigInt"].sum));
var calculateExtraLovelace = (leftoverAssets, coinsPerUtxoByte)=>{
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(leftoverAssets, (assets)=>{
        const minLovelace = calculateMinLovelace(coinsPerUtxoByte, assets);
        const currentLovelace = assets["lovelace"] || 0n;
        return currentLovelace >= minLovelace ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Option$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Option$3e$__["Option"].none() : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Option$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Option$3e$__["Option"].some({
            lovelace: minLovelace - currentLovelace
        });
    });
};
var recursive = (inputs, requiredAssets, coinsPerUtxoByte, externalAssets = {}, includeLeftoverLovelaceAsFee, error)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
        let selected = [];
        error ??= completeTxError(`Your wallet does not have enough funds to cover the required assets: ${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stringify"])(requiredAssets)}
      Or it contains UTxOs with reference scripts; which are excluded from coin selection.`);
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].isEmptyRecord(requiredAssets)) {
            selected = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["selectUTxOs"])(inputs, requiredAssets, true);
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__["Array"].isEmptyArray(selected)) yield* error;
        }
        const selectedAssets = sumAssetsFromInputs(selected);
        let availableAssets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(selectedAssets, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].union(requiredAssets, (self, that)=>self - that), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].union(externalAssets, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$BigInt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__BigInt$3e$__["BigInt"].sum));
        let extraLovelace = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(calculateExtraLovelace(availableAssets, coinsPerUtxoByte), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Option$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Option$3e$__["Option"].getOrUndefined);
        let remainingInputs = inputs;
        while(extraLovelace){
            remainingInputs = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__["Array"].differenceWith(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isEqualUTxO"])(remainingInputs, selected);
            const extraSelected = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["selectUTxOs"])(remainingInputs, extraLovelace, true);
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Array$3e$__["Array"].isEmptyArray(extraSelected)) {
                if (includeLeftoverLovelaceAsFee) return {
                    selected: [
                        ...selected
                    ],
                    burnable: extraLovelace
                };
                yield* completeTxError(`Your wallet does not have enough funds to cover required minimum ADA for change output: ${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stringify"])(extraLovelace)}
          Or it contains UTxOs with reference scripts; which are excluded from coin selection.`);
            }
            const extraSelectedAssets = sumAssetsFromInputs(extraSelected);
            selected = [
                ...selected,
                ...extraSelected
            ];
            availableAssets = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Record$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Record$3e$__["Record"].union(availableAssets, extraSelectedAssets, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$BigInt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__BigInt$3e$__["BigInt"].sum);
            extraLovelace = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(calculateExtraLovelace(availableAssets, coinsPerUtxoByte), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Option$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Option$3e$__["Option"].getOrUndefined);
        }
        return {
            selected,
            burnable: {
                lovelace: 0n
            }
        };
    });
;
;
function makeTxBuilder(lucidConfig) {
    const config = {
        lucidConfig,
        txBuilder: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionBuilder"].new(lucidConfig.txbuilderconfig),
        walletInputs: [],
        collectedInputs: [],
        readInputs: [],
        consumedInputs: [],
        totalOutputAssets: {},
        payToOutputs: [],
        mintedAssets: {},
        scripts: /* @__PURE__ */ new Map(),
        programs: [],
        partialPrograms: /* @__PURE__ */ new Map(),
        minFee: void 0
    };
    const configLayer = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Layer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Layer$3e$__["Layer"].succeed(TxConfig, {
        config
    });
    const txBuilder = {
        readFrom: (utxos)=>{
            utxos.map((utxo)=>{
                if (utxo.scriptRef) {
                    const scriptKeyValue = attachScript(utxo.scriptRef);
                    config.scripts.set(scriptKeyValue.key, scriptKeyValue.value);
                }
            });
            const program = readFrom(utxos);
            config.programs.push(program);
            return txBuilder;
        },
        collectFrom: (utxos, redeemer)=>{
            const program = typeof redeemer === "object" ? collectFromUTxOPartial(utxos, redeemer) : collectFromUTxO(utxos)(redeemer);
            config.programs.push(program);
            return txBuilder;
        },
        pay: {
            ToAddress: (address, assets)=>{
                const program = payToAddress(address, assets);
                config.programs.push(program);
                return txBuilder;
            },
            ToAddressWithData: (address, outputDatum, assets, scriptRef)=>{
                const program = ToAddressWithData(address, outputDatum, assets, scriptRef);
                config.programs.push(program);
                return txBuilder;
            },
            ToContract: (address, outputDatum, assets, scriptRef)=>{
                const program = ToContract(address, outputDatum, assets, scriptRef);
                config.programs.push(program);
                return txBuilder;
            }
        },
        addSigner: (address)=>{
            const program = addSigner(address);
            config.programs.push(program);
            return txBuilder;
        },
        addSignerKey: (keyHash)=>{
            const program = addSignerKey(keyHash);
            config.programs.push(program);
            return txBuilder;
        },
        registerStake: (rewardAddress)=>{
            const program = registerStake(rewardAddress);
            config.programs.push(program);
            return txBuilder;
        },
        register: {
            Stake: (rewardAddress)=>{
                const program = registerStake(rewardAddress);
                config.programs.push(program);
                return txBuilder;
            },
            DRep: (rewardAddress, anchor, redeemer)=>{
                const program = registerDRep(rewardAddress, anchor, redeemer);
                config.programs.push(program);
                return txBuilder;
            }
        },
        deRegisterStake: (rewardAddress, redeemer)=>{
            const program = deRegisterStake(rewardAddress, redeemer);
            config.programs.push(program);
            return txBuilder;
        },
        deregister: {
            Stake: (rewardAddress, redeemer)=>{
                const program = deRegisterStake(rewardAddress, redeemer);
                config.programs.push(program);
                return txBuilder;
            },
            DRep: (rewardAddress, redeemer)=>{
                const program = deregisterDRep(rewardAddress, redeemer);
                config.programs.push(program);
                return txBuilder;
            }
        },
        withdraw: (rewardAddress, amount, redeemer)=>{
            const partialProgram = withdraw(rewardAddress, amount);
            handleRedeemerBuilder(config, partialProgram, redeemer);
            return txBuilder;
        },
        mintAssets: (assets, redeemer)=>{
            config.mintedAssets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addAssets"])(config.mintedAssets, assets);
            const partialProgram = mintAssets(assets);
            handleRedeemerBuilder(config, partialProgram, redeemer);
            return txBuilder;
        },
        validFrom: (unixTime)=>{
            const program = validFrom(unixTime);
            config.programs.push(program);
            return txBuilder;
        },
        validTo: (unixTime)=>{
            const program = validTo(unixTime);
            config.programs.push(program);
            return txBuilder;
        },
        delegateTo: (rewardAddress, poolId, redeemer)=>{
            const program = delegateTo(rewardAddress, poolId, redeemer);
            config.programs.push(program);
            return txBuilder;
        },
        delegate: {
            ToPool: (rewardAddress, poolId, redeemer)=>{
                const program = delegateTo(rewardAddress, poolId, redeemer);
                config.programs.push(program);
                return txBuilder;
            },
            VoteToDRep: (rewardAddress, drep, redeemer)=>{
                const program = delegateVoteToDRep(rewardAddress, drep, redeemer);
                config.programs.push(program);
                return txBuilder;
            },
            VoteToPoolAndDRep: (rewardAddress, poolId, drep, redeemer)=>{
                const program = delegateVoteToPoolAndDRep(rewardAddress, poolId, drep, redeemer);
                config.programs.push(program);
                return txBuilder;
            }
        },
        registerAndDelegate: {
            ToPool: (rewardAddress, poolId, redeemer)=>{
                const program = registerAndDelegateToPool(rewardAddress, poolId, redeemer);
                config.programs.push(program);
                return txBuilder;
            },
            ToDRep: (rewardAddress, drep, redeemer)=>{
                const program = registerAndDelegateToDRep(rewardAddress, drep, redeemer);
                config.programs.push(program);
                return txBuilder;
            },
            ToPoolAndDRep: (rewardAddress, poolId, drep, redeemer)=>{
                const program = registerAndDelegateToPoolAndDRep(rewardAddress, poolId, drep, redeemer);
                config.programs.push(program);
                return txBuilder;
            }
        },
        updateDRep: (rewardAddress, anchor, redeemer)=>{
            const program = updateDRep(rewardAddress, anchor, redeemer);
            config.programs.push(program);
            return txBuilder;
        },
        authCommitteeHot: (coldAddress, hotAddress, redeemer)=>{
            const program = authCommitteeHot(coldAddress, hotAddress, redeemer);
            config.programs.push(program);
            return txBuilder;
        },
        resignCommitteeHot: (coldAddress, anchor, redeemer)=>{
            const program = resignCommitteeHot(coldAddress, anchor, redeemer);
            config.programs.push(program);
            return txBuilder;
        },
        attachMetadata: (label, metadata)=>{
            const program = attachMetadata(config, label, metadata);
            config.programs.push(program);
            return txBuilder;
        },
        attach: {
            Script: (script)=>{
                const scriptKeyValue = attachScript(script);
                config.scripts.set(scriptKeyValue.key, scriptKeyValue.value);
                return txBuilder;
            },
            SpendingValidator: (spendingValidator)=>{
                const scriptKeyValue = attachSpendingValidator(spendingValidator);
                config.scripts.set(scriptKeyValue.key, scriptKeyValue.value);
                return txBuilder;
            },
            MintingPolicy: (mintingPolicy)=>{
                const scriptKeyValue = attachMintingPolicy(mintingPolicy);
                config.scripts.set(scriptKeyValue.key, scriptKeyValue.value);
                return txBuilder;
            },
            CertificateValidator: (certValidator)=>{
                const scriptKeyValue = attachCertificateValidator(certValidator);
                config.scripts.set(scriptKeyValue.key, scriptKeyValue.value);
                return txBuilder;
            },
            WithdrawalValidator: (withdrawalValidator)=>{
                const scriptKeyValue = attachWithdrawalValidator(withdrawalValidator);
                config.scripts.set(scriptKeyValue.key, scriptKeyValue.value);
                return txBuilder;
            },
            VoteValidator: (voteValidator)=>{
                const scriptKeyValue = attachVoteValidator(voteValidator);
                config.scripts.set(scriptKeyValue.key, scriptKeyValue.value);
                return txBuilder;
            },
            ProposeValidator: (proposeValidator)=>{
                const scriptKeyValue = attachProposeValidator(proposeValidator);
                config.scripts.set(scriptKeyValue.key, scriptKeyValue.value);
                return txBuilder;
            }
        },
        compose: (tx)=>{
            if (tx) {
                const rawConfig = tx.rawConfig();
                config.programs = [
                    ...config.programs,
                    ...tx.getPrograms()
                ];
                config.scripts = new Map([
                    ...config.scripts,
                    ...rawConfig.scripts
                ]);
                config.mintedAssets = Object.entries({
                    ...config.mintedAssets,
                    ...rawConfig.mintedAssets
                }).reduce((acc, [key, value])=>{
                    acc[key] = (config.mintedAssets[key] || 0n) + BigInt(value);
                    return acc;
                }, {});
            }
            return txBuilder;
        },
        setMinFee: (fee)=>{
            config.minFee = fee;
            return txBuilder;
        },
        complete: (options)=>makeReturn((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(complete(options), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].provide(configLayer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((result)=>result[2]))).unsafeRun(),
        completeProgram: (options)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(complete(options), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].provide(configLayer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((result)=>result[2])),
        completeSafe: (options)=>makeReturn((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(complete(options), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].provide(configLayer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((result)=>result[2]))).safeRun(),
        chainProgram: (options)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(complete(options), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].provide(configLayer)),
        chain: (options)=>makeReturn((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(complete(options), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].provide(configLayer))).unsafeRun(),
        chainSafe: (options)=>makeReturn((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(complete(options), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].provide(configLayer))).safeRun(),
        rawConfig: ()=>config,
        config: ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
                yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].all(config.programs);
                return config;
            }), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].provide(configLayer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise),
        lucidConfig: ()=>config.lucidConfig,
        getPrograms: ()=>config.programs
    };
    return txBuilder;
}
// src/tx-builder/TxConfig.ts
var makeTxConfig = (protocolParameters, costModels)=>{
    const exUnitsPrices = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ExUnitPrices"].new(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Rational"].new(BigInt(protocolParameters.priceMem * 1e8), 100000000n), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Rational"].new(BigInt(protocolParameters.priceStep * 1e8), 100000000n));
    const txBuilderConfig = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionBuilderConfigBuilder"].new().fee_algo(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LinearFee"].new(BigInt(protocolParameters.minFeeA), BigInt(protocolParameters.minFeeB), BigInt(protocolParameters.minFeeRefScriptCostPerByte))).coins_per_utxo_byte(protocolParameters.coinsPerUtxoByte).pool_deposit(protocolParameters.poolDeposit).key_deposit(protocolParameters.keyDeposit).max_value_size(protocolParameters.maxValSize).max_tx_size(protocolParameters.maxTxSize).ex_unit_prices(exUnitsPrices).collateral_percentage(protocolParameters.collateralPercentage).max_collateral_inputs(protocolParameters.maxCollateralInputs).cost_models(costModels).collateral_percentage(protocolParameters.collateralPercentage).max_collateral_inputs(protocolParameters.maxCollateralInputs).build();
    return txBuilderConfig;
};
;
;
;
var Lucid = async (provider, network, options = {})=>{
    const protocolParameters = options.presetProtocolParameters || await provider?.getProtocolParameters();
    const costModels = protocolParameters ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createCostModels"])(protocolParameters.costModels) : void 0;
    const config = {
        provider,
        network,
        wallet: void 0,
        costModels,
        txbuilderconfig: protocolParameters && costModels ? makeTxConfig(protocolParameters, costModels) : void 0,
        protocolParameters
    };
    if (config.provider && "slot" in config.provider) {
        const emulator = config.provider;
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
            const custom = yield* (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableNetwork(network));
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$plutus$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SLOT_CONFIG_NETWORK"][custom] = {
                zeroTime: emulator.now(),
                zeroSlot: 0,
                slotLength: 1e3
            };
        }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runSync);
    }
    return {
        config: ()=>config,
        wallet: ()=>config.wallet,
        overrideUTxOs: (utxos)=>config.wallet?.overrideUTxOs(utxos),
        switchProvider: async (provider2)=>{
            const protocolParam = await provider2.getProtocolParameters();
            const costModels2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createCostModels"])(protocolParam.costModels);
            config.provider = provider2;
            config.costModels = costModels2;
            config.txbuilderconfig = makeTxConfig(protocolParam, costModels2);
            config.protocolParameters = protocolParam;
        },
        newTx: ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
                const provider2 = yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.provider);
                const network2 = yield* __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(config.network);
                const costModels2 = yield* validateNotNullable(config.costModels, "CostModels are not set in Lucid instance");
                const txbuilderconfig = yield* validateNotNullable(config.txbuilderconfig, "txbuilderconfig is not set in Lucid instance");
                const protocolParameters2 = yield* validateNotNullable(config.protocolParameters, "protocolParameters are not set in Lucid instance");
                return makeTxBuilder({
                    provider: provider2,
                    network: network2,
                    wallet: config.wallet,
                    costModels: costModels2,
                    txbuilderconfig,
                    protocolParameters: protocolParameters2
                });
            }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runSync),
        fromTx: (tx)=>makeTxSignBuilder(config.wallet, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$anastasia$2d$labs$2f$cardano$2d$multiplatform$2d$lib$2d$browser$2f$cardano_multiplatform_lib_bg$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Transaction"].from_cbor_hex(tx)),
        selectWallet: {
            fromSeed: (seed, options2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
                    config.wallet = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$wallet$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["makeWalletFromSeed"])((yield* validateNotNullableProvider(config.provider)), (yield* validateNotNullableNetwork(network)), seed, options2);
                }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runSync),
            fromPrivateKey: (privateKey)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
                    config.wallet = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$wallet$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["makeWalletFromPrivateKey"])((yield* validateNotNullableProvider(config.provider)), (yield* validateNotNullableNetwork(network)), privateKey);
                }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runSync),
            fromAPI: (walletAPI)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
                    config.wallet = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$wallet$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["makeWalletFromAPI"])((yield* validateNotNullableProvider(config.provider)), walletAPI);
                }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runSync),
            fromAddress: (address, utxos)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].gen(function*() {
                    config.wallet = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$wallet$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["makeWalletFromAddress"])((yield* validateNotNullableProvider(config.provider)), (yield* validateNotNullableNetwork(network)), address, utxos);
                }).pipe(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runSync)
        },
        currentSlot: ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableNetwork(config.network), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((network2)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["unixTimeToSlot"])(network2, Date.now())), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runSync),
        unixTimeToSlot: (unixTime)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableNetwork(config.network), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].map((network2)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lucid$2d$evolution$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["unixTimeToSlot"])(network2, unixTime)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runSync),
        utxosAt: (addressOrCredential)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableProvider(config.provider), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].flatMap((provider2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].promise(()=>provider2.getUtxos(addressOrCredential))), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise),
        utxosAtWithUnit: (addressOrCredential, unit)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableProvider(config.provider), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].flatMap((provider2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].promise(()=>provider2.getUtxosWithUnit(addressOrCredential, unit))), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise),
        utxoByUnit: (unit)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableProvider(config.provider), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].flatMap((provider2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].promise(()=>provider2.getUtxoByUnit(unit))), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise),
        utxosByOutRef: (outRefs)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableProvider(config.provider), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].flatMap((provider2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].promise(()=>provider2.getUtxosByOutRef(outRefs))), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise),
        delegationAt: (rewardAddress)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableProvider(config.provider), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].flatMap((provider2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].promise(()=>provider2.getDelegation(rewardAddress))), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise),
        awaitTx: (txHash, checkInterval)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableProvider(config.provider), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].flatMap((provider2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].promise(()=>provider2.awaitTx(txHash, checkInterval))), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise),
        datumOf: (utxo, type)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableProvider(config.provider), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].flatMap((provider2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].promise(()=>datumOf(provider2, utxo, type))), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise),
        metadataOf: (unit)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(validateNotNullableProvider(config.provider), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].flatMap((provider2)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].promise(()=>metadataOf(provider2, unit))), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].runPromise)
    };
};
var validateNotNullable = (value, message)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Function$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pipe"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].fromNullable(value), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$effect$2f$dist$2f$esm$2f$Effect$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Effect$3e$__["Effect"].orElseFail(()=>new NullableError({
            message
        })));
var validateNotNullableNetwork = (network)=>validateNotNullable(network, "Network is not set in Lucid instance");
var validateNotNullableProvider = (provider)=>validateNotNullable(provider, "Provider is not set in Lucid instance");
;
;
;
;
;
;
;
;
 //# sourceMappingURL=index.js.map
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),
]);

//# sourceMappingURL=node_modules_%40lucid-evolution_lucid_dist_index_92c8aa6d.js.map