{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///Users/vata/HydroX-exchange/frontend/node_modules/%40lucid-evolution/provider/dist/index.js"],"sourcesContent":["// src/core.ts\nimport * as CML from \"@anastasia-labs/cardano-multiplatform-lib-nodejs\";\n\n// src/blockfrost.ts\nimport { fromHex, sleep } from \"@lucid-evolution/core-utils\";\nimport {\n  applyDoubleCborEncoding,\n  scriptFromNative\n} from \"@lucid-evolution/utils\";\n\n// package.json\nvar package_default = {\n  name: \"@lucid-evolution/provider\",\n  version: \"0.1.90\",\n  description: \"\",\n  main: \"./dist/index.js\",\n  types: \"./dist/index.d.ts\",\n  type: \"module\",\n  exports: {\n    \".\": {\n      require: \"./dist/index.cjs\",\n      import: \"./dist/index.js\",\n      types: \"./dist/index.d.ts\"\n    }\n  },\n  files: [\n    \"dist\"\n  ],\n  publishConfig: {\n    access: \"public\"\n  },\n  scripts: {\n    build: \"tsup src/index.ts --format esm,cjs --dts --clean\",\n    clean: \"rm -rf .turbo && rm -rf node_modules && rm -rf dist\",\n    test: \"vitest run\"\n  },\n  keywords: [],\n  author: \"\",\n  license: \"MIT\",\n  browser: {\n    \"@anastasia-labs/cardano-multiplatform-lib-nodejs\": \"@anastasia-labs/cardano-multiplatform-lib-browser\"\n  },\n  dependencies: {\n    \"@anastasia-labs/cardano-multiplatform-lib-browser\": \"6.0.2-3\",\n    \"@anastasia-labs/cardano-multiplatform-lib-nodejs\": \"6.0.2-3\",\n    \"@effect/platform\": \"^0.71.3\",\n    \"@effect/schema\": \"^0.68.26\",\n    \"@lucid-evolution/core-types\": \"workspace:*\",\n    \"@lucid-evolution/core-utils\": \"workspace:*\",\n    \"@lucid-evolution/utils\": \"workspace:*\",\n    \"@lucid-evolution/wallet\": \"workspace:*\",\n    effect: \"^3.11.7\"\n  },\n  devDependencies: {\n    \"@types/node\": \"^20.12.8\",\n    tsup: \"^8.0.2\",\n    typescript: \"^5.4.5\",\n    vitest: \"^2.0.4\"\n  }\n};\n\n// src/internal/blockfrost.ts\nimport { pipe, Record } from \"effect\";\nimport { applySingleCborEncoding } from \"@lucid-evolution/utils\";\nvar toAditionalUTXOs = (utxos) => (utxos || []).map((utxo) => [\n  {\n    txId: utxo.txHash,\n    index: utxo.outputIndex\n  },\n  {\n    address: utxo.address,\n    value: {\n      coins: Number(utxo.assets[\"lovelace\"]),\n      assets: fromAssets(utxo.assets)\n    },\n    datumHash: utxo.datumHash,\n    datum: utxo.datum,\n    script: toTxOutScript(utxo.scriptRef)\n  }\n]);\nvar toTxOutScript = (scriptRef) => {\n  if (scriptRef) {\n    switch (scriptRef.type) {\n      case \"PlutusV1\":\n        return { \"plutus:v1\": applySingleCborEncoding(scriptRef.script) };\n      case \"PlutusV2\":\n        return { \"plutus:v2\": applySingleCborEncoding(scriptRef.script) };\n      case \"PlutusV3\":\n        return { \"plutus:v3\": applySingleCborEncoding(scriptRef.script) };\n      default:\n        return void 0;\n    }\n  }\n};\nvar fromAssets = (assets) => pipe(\n  Record.remove(assets, \"lovelace\"),\n  Record.mapEntries((amount, unit) => [\n    unit.length === 56 ? unit.slice(0, 56) : unit.slice(0, 56) + \".\" + unit.slice(56),\n    Number(amount)\n  ]),\n  (r) => Record.isEmptyRecord(r) ? void 0 : r\n);\nvar fromLegacyRedeemerTag = (redeemerTag) => {\n  switch (redeemerTag) {\n    case \"certificate\":\n      return \"publish\";\n    case \"withdrawal\":\n      return \"withdraw\";\n    default:\n      return redeemerTag;\n  }\n};\n\n// src/blockfrost.ts\nvar Blockfrost = class {\n  url;\n  projectId;\n  constructor(url, projectId) {\n    this.url = url;\n    this.projectId = projectId || \"\";\n  }\n  async getProtocolParameters() {\n    const result = await fetch(`${this.url}/epochs/latest/parameters`, {\n      headers: { project_id: this.projectId, lucid }\n    }).then((res) => res.json());\n    return {\n      minFeeA: parseInt(result.min_fee_a),\n      minFeeB: parseInt(result.min_fee_b),\n      maxTxSize: parseInt(result.max_tx_size),\n      maxValSize: parseInt(result.max_val_size),\n      keyDeposit: BigInt(result.key_deposit),\n      poolDeposit: BigInt(result.pool_deposit),\n      drepDeposit: BigInt(result.drep_deposit),\n      govActionDeposit: BigInt(result.gov_action_deposit),\n      priceMem: parseFloat(result.price_mem),\n      priceStep: parseFloat(result.price_step),\n      maxTxExMem: BigInt(result.max_tx_ex_mem),\n      maxTxExSteps: BigInt(result.max_tx_ex_steps),\n      coinsPerUtxoByte: BigInt(result.coins_per_utxo_size),\n      collateralPercentage: parseInt(result.collateral_percent),\n      maxCollateralInputs: parseInt(result.max_collateral_inputs),\n      minFeeRefScriptCostPerByte: parseInt(\n        result.min_fee_ref_script_cost_per_byte\n      ),\n      costModels: result.cost_models\n    };\n  }\n  async getUtxos(addressOrCredential) {\n    const queryPredicate = (() => {\n      if (typeof addressOrCredential === \"string\") return addressOrCredential;\n      const credentialBech32 = addressOrCredential.type === \"Key\" ? CML.Ed25519KeyHash.from_hex(addressOrCredential.hash).to_bech32(\n        \"addr_vkh\"\n      ) : CML.ScriptHash.from_hex(addressOrCredential.hash).to_bech32(\n        \"addr_vkh\"\n      );\n      return credentialBech32;\n    })();\n    let result = [];\n    let page = 1;\n    while (true) {\n      const pageResult = await fetch(\n        `${this.url}/addresses/${queryPredicate}/utxos?page=${page}`,\n        { headers: { project_id: this.projectId, lucid } }\n      ).then((res) => res.json());\n      if (pageResult.error) {\n        if (pageResult.status_code === 404) {\n          return [];\n        } else {\n          throw new Error(\"Could not fetch UTxOs from Blockfrost. Try again.\");\n        }\n      }\n      result = result.concat(pageResult);\n      if (pageResult.length <= 0) break;\n      page++;\n    }\n    return this.blockfrostUtxosToUtxos(result);\n  }\n  async getUtxosWithUnit(addressOrCredential, unit) {\n    const queryPredicate = (() => {\n      if (typeof addressOrCredential === \"string\") return addressOrCredential;\n      const credentialBech32 = addressOrCredential.type === \"Key\" ? CML.Ed25519KeyHash.from_hex(addressOrCredential.hash).to_bech32(\n        \"addr_vkh\"\n      ) : CML.ScriptHash.from_hex(addressOrCredential.hash).to_bech32(\n        \"addr_vkh\"\n      );\n      return credentialBech32;\n    })();\n    let result = [];\n    let page = 1;\n    while (true) {\n      const pageResult = await fetch(\n        `${this.url}/addresses/${queryPredicate}/utxos/${unit}?page=${page}`,\n        { headers: { project_id: this.projectId, lucid } }\n      ).then((res) => res.json());\n      if (pageResult.error) {\n        if (pageResult.status_code === 404) {\n          return [];\n        } else {\n          throw new Error(\"Could not fetch UTxOs from Blockfrost. Try again.\");\n        }\n      }\n      result = result.concat(pageResult);\n      if (pageResult.length <= 0) break;\n      page++;\n    }\n    return this.blockfrostUtxosToUtxos(result);\n  }\n  async getUtxoByUnit(unit) {\n    const addresses = await fetch(\n      `${this.url}/assets/${unit}/addresses?count=2`,\n      { headers: { project_id: this.projectId, lucid } }\n    ).then((res) => res.json());\n    if (!addresses || addresses.error) {\n      throw new Error(\"Unit not found.\");\n    }\n    if (addresses.length > 1) {\n      throw new Error(\"Unit needs to be an NFT or only held by one address.\");\n    }\n    const address = addresses[0].address;\n    const utxos = await this.getUtxosWithUnit(address, unit);\n    if (utxos.length > 1) {\n      throw new Error(\"Unit needs to be an NFT or only held by one address.\");\n    }\n    return utxos[0];\n  }\n  async getUtxosByOutRef(outRefs) {\n    const queryHashes = [...new Set(outRefs.map((outRef) => outRef.txHash))];\n    const utxos = await Promise.all(\n      queryHashes.map(async (txHash) => {\n        const result = await fetch(`${this.url}/txs/${txHash}/utxos`, {\n          headers: { project_id: this.projectId, lucid }\n        }).then((res) => res.json());\n        if (!result || result.error) {\n          return [];\n        }\n        const utxosResult = result.outputs.filter((r) => !r.consumed_by_tx).map(\n          (r) => ({\n            ...r,\n            tx_hash: txHash\n          })\n        );\n        return this.blockfrostUtxosToUtxos(utxosResult);\n      })\n    );\n    return utxos.reduce((acc, utxos2) => acc.concat(utxos2), []).filter(\n      (utxo) => outRefs.some(\n        (outRef) => utxo.txHash === outRef.txHash && utxo.outputIndex === outRef.outputIndex\n      )\n    );\n  }\n  async getDelegation(rewardAddress) {\n    const result = await fetch(`${this.url}/accounts/${rewardAddress}`, {\n      headers: { project_id: this.projectId, lucid }\n    }).then((res) => res.json());\n    if (!result || result.error) {\n      return { poolId: null, rewards: 0n };\n    }\n    return {\n      poolId: result.pool_id || null,\n      rewards: BigInt(result.withdrawable_amount)\n    };\n  }\n  async getDatum(datumHash) {\n    const datum = await fetch(`${this.url}/scripts/datum/${datumHash}/cbor`, {\n      headers: { project_id: this.projectId, lucid }\n    }).then((res) => res.json()).then((res) => res.cbor);\n    if (!datum || datum.error) {\n      throw new Error(`No datum found for datum hash: ${datumHash}`);\n    }\n    return datum;\n  }\n  awaitTx(txHash, checkInterval = 3e3) {\n    return new Promise((res) => {\n      const confirmation = setInterval(async () => {\n        const isConfirmed = await fetch(`${this.url}/txs/${txHash}/cbor`, {\n          headers: { project_id: this.projectId, lucid }\n        }).then((res2) => res2.json());\n        if (isConfirmed && !isConfirmed.error) {\n          clearInterval(confirmation);\n          await new Promise((res2) => setTimeout(() => res2(1), 1e3));\n          return res(true);\n        }\n      }, checkInterval);\n    });\n  }\n  async submitTx(tx) {\n    const result = await fetch(`${this.url}/tx/submit`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/cbor\",\n        project_id: this.projectId,\n        lucid\n      },\n      body: fromHex(tx)\n    }).then((res) => res.json());\n    if (!result || result.error) {\n      if (result?.status_code === 400) throw new Error(result.message);\n      else throw new Error(\"Could not submit transaction.\");\n    }\n    return result;\n  }\n  async blockfrostUtxosToUtxos(result) {\n    const utxos = [];\n    const batchSize = 10;\n    let count = 0;\n    for (let i = 0; i < result.length; i += batchSize) {\n      const batch = result.slice(i, i + batchSize);\n      count += batchSize;\n      await handleRateLimit(count);\n      const batchResults = await Promise.all(\n        batch.map(async (r) => {\n          return {\n            txHash: r.tx_hash,\n            outputIndex: r.output_index,\n            assets: Object.fromEntries(\n              r.amount.map(({ unit, quantity }) => [unit, BigInt(quantity)])\n            ),\n            address: r.address,\n            datumHash: !r.inline_datum && r.data_hash || void 0,\n            datum: r.inline_datum || void 0,\n            scriptRef: r.reference_script_hash ? await (async () => {\n              const { type } = await fetch(\n                `${this.url}/scripts/${r.reference_script_hash}`,\n                {\n                  headers: { project_id: this.projectId, lucid }\n                }\n              ).then((res) => res.json());\n              const { cbor: script } = await fetch(\n                `${this.url}/scripts/${r.reference_script_hash}/cbor`,\n                { headers: { project_id: this.projectId, lucid } }\n              ).then((res) => res.json());\n              switch (type) {\n                case \"timelock\":\n                  const { json: native } = await fetch(\n                    `${this.url}/scripts/${r.reference_script_hash}/json`,\n                    { headers: { project_id: this.projectId, lucid } }\n                  ).then((res) => res.json());\n                  return scriptFromNative(native);\n                case \"plutusV1\":\n                  return {\n                    type: \"PlutusV1\",\n                    script: applyDoubleCborEncoding(script)\n                  };\n                case \"plutusV2\":\n                  return {\n                    type: \"PlutusV2\",\n                    script: applyDoubleCborEncoding(script)\n                  };\n                case \"plutusV3\":\n                  return {\n                    type: \"PlutusV3\",\n                    script: applyDoubleCborEncoding(script)\n                  };\n              }\n            })() : void 0\n          };\n        })\n      );\n      utxos.push(...batchResults);\n    }\n    return utxos;\n  }\n  async evaluateTx(tx, additionalUTxOs) {\n    const payload = {\n      cbor: tx,\n      additionalUtxoSet: toAditionalUTXOs(additionalUTxOs)\n    };\n    const res = await fetch(`${this.url}/utils/txs/evaluate/utxos`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        project_id: this.projectId,\n        lucid\n      },\n      body: JSON.stringify(payload)\n    }).then((res2) => res2.json());\n    if (!res || res.fault) {\n      const message = res?.status_code === 400 ? res.message : `Could not evaluate the transaction: ${JSON.stringify(res)}. Transaction: ${tx}`;\n      throw new Error(message);\n    }\n    const blockfrostRedeemer = res;\n    if (!(\"EvaluationResult\" in blockfrostRedeemer.result)) {\n      throw new Error(\n        `EvaluateTransaction fails: ${JSON.stringify(blockfrostRedeemer.result)}`\n      );\n    }\n    const evalRedeemers = [];\n    Object.entries(blockfrostRedeemer.result.EvaluationResult).forEach(\n      ([redeemerPointer, data]) => {\n        const [pTag, pIndex] = redeemerPointer.split(\":\");\n        evalRedeemers.push({\n          redeemer_tag: fromLegacyRedeemerTag(\n            pTag\n          ),\n          redeemer_index: Number(pIndex),\n          ex_units: { mem: Number(data.memory), steps: Number(data.steps) }\n        });\n      }\n    );\n    return evalRedeemers;\n  }\n};\nvar handleRateLimit = async (count) => {\n  if (count % 100 === 0) {\n    await sleep(5e3);\n  } else if (count % 10 === 0) {\n    await sleep(500);\n  }\n};\nvar lucid = package_default.version;\n\n// src/kupmios.ts\nimport { applyDoubleCborEncoding as applyDoubleCborEncoding2, fromUnit as fromUnit2 } from \"@lucid-evolution/utils\";\nimport { Schema as S3 } from \"effect\";\nimport { Effect as Effect2, pipe as pipe3, Array as _Array, Schedule, Data } from \"effect\";\n\n// src/internal/ogmios.ts\nimport { Schema as S } from \"effect\";\nimport { applySingleCborEncoding as applySingleCborEncoding2, fromUnit } from \"@lucid-evolution/utils\";\nvar JSONRPCSchema = (schema) => S.Struct({\n  jsonrpc: S.String,\n  method: S.optional(S.String),\n  id: S.NullOr(S.Number),\n  result: schema\n}).annotations({ identifier: \"JSONRPCSchema\" });\nvar LovelaceAsset = S.Struct({\n  lovelace: S.Number\n});\nvar TupleNumberFromString = S.compose(\n  S.split(\"/\"),\n  S.Array(S.NumberFromString)\n);\nvar ProtocolParametersSchema = S.Struct({\n  minFeeCoefficient: S.Number,\n  minFeeReferenceScripts: S.Struct({\n    base: S.Number,\n    range: S.Number,\n    multiplier: S.Number\n  }),\n  maxReferenceScriptsSize: S.Struct({\n    bytes: S.Number\n  }),\n  stakePoolVotingThresholds: S.Struct({\n    noConfidence: TupleNumberFromString,\n    constitutionalCommittee: S.Struct({\n      default: TupleNumberFromString,\n      stateOfNoConfidence: TupleNumberFromString\n    }),\n    hardForkInitiation: TupleNumberFromString,\n    protocolParametersUpdate: S.Struct({\n      security: TupleNumberFromString\n    })\n  }),\n  delegateRepresentativeVotingThresholds: S.Struct({\n    noConfidence: TupleNumberFromString,\n    constitutionalCommittee: S.Struct({\n      default: TupleNumberFromString,\n      stateOfNoConfidence: TupleNumberFromString\n    }),\n    constitution: TupleNumberFromString,\n    hardForkInitiation: TupleNumberFromString,\n    protocolParametersUpdate: S.Struct({\n      network: TupleNumberFromString,\n      economic: TupleNumberFromString,\n      technical: TupleNumberFromString,\n      governance: TupleNumberFromString\n    }),\n    treasuryWithdrawals: TupleNumberFromString\n  }),\n  constitutionalCommitteeMinSize: S.optional(S.Number),\n  constitutionalCommitteeMaxTermLength: S.Number,\n  governanceActionLifetime: S.Number,\n  governanceActionDeposit: S.Struct({\n    ada: LovelaceAsset\n  }),\n  delegateRepresentativeDeposit: S.Struct({\n    ada: LovelaceAsset\n  }),\n  delegateRepresentativeMaxIdleTime: S.Number,\n  minFeeConstant: S.Struct({ ada: LovelaceAsset }),\n  maxBlockBodySize: S.Struct({ bytes: S.Number }),\n  maxBlockHeaderSize: S.Struct({ bytes: S.Number }),\n  maxTransactionSize: S.Struct({ bytes: S.Number }),\n  stakeCredentialDeposit: S.Struct({ ada: LovelaceAsset }),\n  stakePoolDeposit: S.Struct({ ada: LovelaceAsset }),\n  stakePoolRetirementEpochBound: S.Number,\n  desiredNumberOfStakePools: S.Number,\n  stakePoolPledgeInfluence: TupleNumberFromString,\n  monetaryExpansion: TupleNumberFromString,\n  treasuryExpansion: TupleNumberFromString,\n  minStakePoolCost: S.Struct({ ada: LovelaceAsset }),\n  minUtxoDepositConstant: S.Struct({ ada: LovelaceAsset }),\n  minUtxoDepositCoefficient: S.Number,\n  plutusCostModels: S.Struct({\n    \"plutus:v1\": S.Array(S.Number),\n    \"plutus:v2\": S.Array(S.Number),\n    \"plutus:v3\": S.Array(S.Number)\n  }),\n  scriptExecutionPrices: S.Struct({\n    memory: TupleNumberFromString,\n    cpu: TupleNumberFromString\n  }),\n  maxExecutionUnitsPerTransaction: S.Struct({\n    memory: S.Number,\n    cpu: S.Number\n  }),\n  maxExecutionUnitsPerBlock: S.Struct({ memory: S.Number, cpu: S.Number }),\n  maxValueSize: S.Struct({ bytes: S.Number }),\n  collateralPercentage: S.Number,\n  maxCollateralInputs: S.Number,\n  version: S.Struct({ major: S.Number, minor: S.Number })\n}).annotations({ identifier: \"ProtocolParametersSchema\" });\nvar Delegation = S.NullOr(\n  S.Record({\n    key: S.String,\n    value: S.Struct({\n      delegate: S.Struct({ id: S.String }),\n      rewards: S.Struct({ ada: S.Struct({ lovelace: S.Number }) }),\n      deposit: S.Struct({ ada: S.Struct({ lovelace: S.Number }) })\n    })\n  })\n);\nvar RedeemerSchema = S.Struct({\n  validator: S.Struct({\n    purpose: S.Literal(\n      \"spend\",\n      \"mint\",\n      \"publish\",\n      \"withdraw\",\n      \"vote\",\n      \"propose\"\n    ),\n    index: S.Int\n  }),\n  budget: S.Struct({\n    memory: S.Int,\n    cpu: S.Int\n  })\n}).annotations({ identifier: \"RedeemerSchema\" });\nvar toOgmiosUTxOs = (utxos) => {\n  const toOgmiosScript = (scriptRef) => {\n    if (scriptRef) {\n      switch (scriptRef.type) {\n        case \"PlutusV1\":\n          return {\n            language: \"plutus:v1\",\n            cbor: applySingleCborEncoding2(scriptRef.script)\n          };\n        case \"PlutusV2\":\n          return {\n            language: \"plutus:v2\",\n            cbor: applySingleCborEncoding2(scriptRef.script)\n          };\n        case \"PlutusV3\":\n          return {\n            language: \"plutus:v3\",\n            cbor: applySingleCborEncoding2(scriptRef.script)\n          };\n        default:\n          return null;\n      }\n    }\n  };\n  const toOgmiosAssets = (assets) => {\n    const newAssets = {};\n    Object.entries(assets).forEach(([unit, amount]) => {\n      if (unit == \"lovelace\") return;\n      const { policyId, assetName } = fromUnit(unit);\n      if (!newAssets[policyId]) {\n        newAssets[policyId] = {};\n      }\n      return newAssets[policyId][assetName ? assetName : \"\"] = Number(amount);\n    });\n    return newAssets;\n  };\n  return (utxos || []).map(\n    (utxo) => ({\n      transaction: {\n        id: utxo.txHash\n      },\n      index: utxo.outputIndex,\n      address: utxo.address,\n      value: {\n        ada: { lovelace: Number(utxo.assets[\"lovelace\"]) },\n        ...toOgmiosAssets(utxo.assets)\n      },\n      datumHash: utxo.datumHash,\n      datum: utxo.datum,\n      script: toOgmiosScript(utxo.scriptRef)\n    })\n  );\n};\n\n// src/internal/kupo.ts\nimport { Schema as S2 } from \"effect\";\nvar ValueSchema = S2.Struct({\n  coins: S2.Number,\n  assets: S2.Record({ key: S2.String, value: S2.Number })\n});\nvar UTxOSchema = S2.Struct({\n  transaction_index: S2.Number,\n  transaction_id: S2.String,\n  output_index: S2.Number,\n  address: S2.String,\n  value: ValueSchema,\n  datum_hash: S2.NullOr(S2.String),\n  datum_type: S2.optional(S2.Literal(\"hash\", \"inline\")),\n  script_hash: S2.NullOr(S2.String),\n  created_at: S2.Struct({\n    slot_no: S2.Number,\n    header_hash: S2.String\n  }),\n  spent_at: S2.NullOr(\n    S2.Struct({\n      slot_no: S2.Number,\n      header_hash: S2.String\n    })\n  )\n});\nvar ScriptSchema = S2.NullOr(\n  S2.Struct({\n    language: S2.Literal(\"native\", \"plutus:v1\", \"plutus:v2\", \"plutus:v3\"),\n    script: S2.String\n  })\n);\nvar DatumSchema = S2.NullOr(S2.Struct({ datum: S2.String }));\nvar DelegationSchema = S2.NullOr(\n  S2.Record({\n    key: S2.String,\n    value: S2.Struct({\n      delegate: S2.Struct({ id: S2.String }),\n      rewards: S2.Struct({ ada: S2.Struct({ lovelace: S2.Number }) }),\n      deposit: S2.Struct({ ada: S2.Struct({ lovelace: S2.Number }) })\n    })\n  })\n);\n\n// src/internal/HttpUtils.ts\nimport {\n  HttpClient,\n  HttpClientError,\n  HttpClientRequest,\n  HttpClientResponse\n} from \"@effect/platform\";\nimport { Effect, identity, pipe as pipe2 } from \"effect\";\nvar filterStatusOk = (self) => self.status >= 200 && self.status < 300 ? Effect.succeed(self) : self.text.pipe(\n  Effect.flatMap(\n    (text) => Effect.fail(\n      new HttpClientError.ResponseError({\n        response: self,\n        request: self.request,\n        reason: \"StatusCode\",\n        description: `non 2xx status code : ${text}`\n      })\n    )\n  )\n);\nvar makeGet = (url, schema, headers) => pipe2(\n  // Initiate a GET request to the specified URL\n  HttpClientRequest.get(url),\n  // Conditional bearer token authentication\n  headers ? HttpClientRequest.setHeaders(headers) : identity,\n  // Execute the HTTP request and retrieve the response\n  HttpClient.execute,\n  // Ensure only 2xx responses are treated as successes.\n  Effect.flatMap(filterStatusOk),\n  // Parse the response body using the provided JSON schema\n  // This validates and transforms the response to the expected type\n  Effect.flatMap(HttpClientResponse.schemaBodyJson(schema)),\n  // Ensure request is aborted if the program is interrupted\n  // Prevents resource leaks and ensures clean request termination\n  Effect.scoped\n);\nvar makePostAsJson = (url, data, schema, headers) => pipe2(\n  // Initiate a POST request to the specified URL\n  HttpClientRequest.post(url),\n  // Conditional headers\n  headers ? HttpClientRequest.setHeaders(headers) : identity,\n  // Set the request body as Json\n  HttpClientRequest.bodyJson(data),\n  // Execute the HTTP request and retrieve the response\n  Effect.flatMap(HttpClient.execute),\n  // Ensure only 2xx responses are treated as successes.\n  Effect.flatMap(filterStatusOk),\n  // Parse the response body using the provided JSON schema\n  // This validates and transforms the response to the expected type\n  Effect.flatMap(HttpClientResponse.schemaBodyJson(schema)),\n  // Ensure request is aborted if the program is interrupted\n  // Prevents resource leaks and ensures clean request termination\n  Effect.scoped\n);\nvar makePostAsUint8Array = (url, data, schema, headers) => pipe2(\n  // Initiate a POST request to the specified URL\n  HttpClientRequest.post(url),\n  // Conditional bearer token authentication\n  headers ? HttpClientRequest.setHeaders(headers) : identity,\n  // Set the request body as a Uint8Array with CBOR content type\n  HttpClientRequest.bodyUint8Array(data, \"application/cbor\"),\n  // Execute the HTTP request and retrieve the response\n  HttpClient.execute,\n  // Ensure only 2xx responses are treated as successes.\n  Effect.flatMap(filterStatusOk),\n  // Parse the response body using the provided JSON schema\n  // This validates and transforms the response to the expected type\n  Effect.flatMap(HttpClientResponse.schemaBodyJson(schema)),\n  // Ensure request is aborted if the program is interrupted\n  // Prevents resource leaks and ensures clean request termination\n  Effect.scoped\n);\n\n// src/kupmios.ts\nimport { FetchHttpClient } from \"@effect/platform\";\nvar KupmiosError = class extends Data.TaggedError(\"KupmiosError\") {\n  get message() {\n    return `${this.cause}`;\n  }\n};\nvar Kupmios = class {\n  kupoUrl;\n  ogmiosUrl;\n  headers;\n  constructor(kupoUrl, ogmiosUrl, headers) {\n    this.kupoUrl = kupoUrl;\n    this.ogmiosUrl = ogmiosUrl;\n    this.headers = headers;\n  }\n  async getProtocolParameters() {\n    const data = {\n      jsonrpc: \"2.0\",\n      method: \"queryLedgerState/protocolParameters\",\n      params: {},\n      id: null\n    };\n    const schema = JSONRPCSchema(ProtocolParametersSchema);\n    const { result } = await pipe3(\n      makePostAsJson(\n        this.ogmiosUrl,\n        data,\n        schema,\n        this.headers?.ogmiosHeader\n      ),\n      Effect2.timeout(1e4),\n      Effect2.catchAll((cause) => new KupmiosError({ cause })),\n      Effect2.provide(FetchHttpClient.layer),\n      Effect2.runPromise\n    );\n    return toProtocolParameters(result);\n  }\n  async getUtxos(addressOrCredential) {\n    const isAddress = typeof addressOrCredential === \"string\";\n    const queryPredicate = isAddress ? addressOrCredential : addressOrCredential.hash;\n    const pattern = `${this.kupoUrl}/matches/${queryPredicate}${isAddress ? \"\" : \"/*\"}?unspent`;\n    const schema = S3.Array(UTxOSchema);\n    const utxos = await pipe3(\n      makeGet(pattern, schema, this.headers?.kupoHeader),\n      Effect2.flatMap((u) => kupmiosUtxosToUtxos(this.kupoUrl, u)),\n      Effect2.timeout(1e4),\n      Effect2.catchAll((cause) => new KupmiosError({ cause })),\n      Effect2.provide(FetchHttpClient.layer),\n      Effect2.runPromise\n    );\n    return utxos;\n  }\n  async getUtxosWithUnit(addressOrCredential, unit) {\n    const isAddress = typeof addressOrCredential === \"string\";\n    const queryPredicate = isAddress ? addressOrCredential : addressOrCredential.hash;\n    const { policyId, assetName } = fromUnit2(unit);\n    const pattern = `${this.kupoUrl}/matches/${queryPredicate}${isAddress ? \"\" : \"/*\"}?unspent&policy_id=${policyId}${assetName ? `&asset_name=${assetName}` : \"\"}`;\n    const schema = S3.Array(UTxOSchema);\n    const utxos = await pipe3(\n      makeGet(pattern, schema, this.headers?.kupoHeader),\n      Effect2.flatMap((u) => kupmiosUtxosToUtxos(this.kupoUrl, u)),\n      Effect2.timeout(1e4),\n      Effect2.catchAll((cause) => new KupmiosError({ cause })),\n      Effect2.provide(FetchHttpClient.layer),\n      Effect2.runPromise\n    );\n    return utxos;\n  }\n  async getUtxoByUnit(unit) {\n    const { policyId, assetName } = fromUnit2(unit);\n    const pattern = `${this.kupoUrl}/matches/${policyId}.${assetName ? `${assetName}` : \"*\"}?unspent`;\n    const schema = S3.Array(UTxOSchema);\n    const utxos = await pipe3(\n      makeGet(pattern, schema, this.headers?.kupoHeader),\n      Effect2.flatMap((u) => kupmiosUtxosToUtxos(this.kupoUrl, u)),\n      Effect2.timeout(1e4),\n      Effect2.catchAll((cause) => new KupmiosError({ cause })),\n      Effect2.provide(FetchHttpClient.layer),\n      Effect2.runPromise\n    );\n    if (utxos.length > 1) {\n      throw new Error(\"Unit needs to be an NFT or only held by one address.\");\n    }\n    return utxos[0];\n  }\n  async getUtxosByOutRef(outRefs) {\n    const queryHashes = [\n      ...new Set(outRefs.map((outRef) => outRef.txHash))\n    ];\n    const mkPattern = (txHash) => `${this.kupoUrl}/matches/*@${txHash}?unspent`;\n    const schema = S3.Array(UTxOSchema);\n    const program = Effect2.forEach(\n      queryHashes,\n      (txHash) => pipe3(\n        makeGet(mkPattern(txHash), schema, this.headers?.kupoHeader),\n        Effect2.flatMap((u) => kupmiosUtxosToUtxos(this.kupoUrl, u)),\n        Effect2.timeout(1e4),\n        Effect2.catchAll((cause) => new KupmiosError({ cause }))\n      )\n    );\n    const utxos = await Effect2.runPromise(\n      pipe3(program, Effect2.provide(FetchHttpClient.layer))\n    );\n    return _Array.flatten(utxos).filter(\n      (utxo) => outRefs.some(\n        (outRef) => utxo.txHash === outRef.txHash && utxo.outputIndex === outRef.outputIndex\n      )\n    );\n  }\n  async getDelegation(rewardAddress) {\n    const data = {\n      jsonrpc: \"2.0\",\n      method: \"queryLedgerState/rewardAccountSummaries\",\n      params: { keys: [rewardAddress] },\n      id: null\n    };\n    const schema = JSONRPCSchema(Delegation);\n    const { result } = await pipe3(\n      makePostAsJson(\n        this.ogmiosUrl,\n        data,\n        schema,\n        this.headers?.ogmiosHeader\n      ),\n      Effect2.provide(FetchHttpClient.layer),\n      Effect2.timeout(1e4),\n      Effect2.catchAll((cause) => new KupmiosError({ cause })),\n      Effect2.runPromise\n    );\n    const delegation = result ? Object.values(result)[0] : null;\n    return {\n      poolId: delegation?.delegate?.id || null,\n      rewards: BigInt(delegation?.rewards?.ada?.lovelace || 0)\n    };\n  }\n  async getDatum(datumHash) {\n    const pattern = `${this.kupoUrl}/datums/${datumHash}`;\n    const schema = DatumSchema;\n    const result = await pipe3(\n      makeGet(pattern, schema, this.headers?.kupoHeader),\n      Effect2.provide(FetchHttpClient.layer),\n      Effect2.timeout(1e4),\n      Effect2.flatMap(Effect2.fromNullable),\n      Effect2.catchAll((cause) => new KupmiosError({ cause })),\n      Effect2.runPromise\n    );\n    return result.datum;\n  }\n  async awaitTx(txHash, checkInterval = 2e4) {\n    const pattern = `${this.kupoUrl}/matches/*@${txHash}?unspent`;\n    const schema = S3.Array(UTxOSchema).annotations({\n      identifier: \"Array<KupmiosSchema.KupoUTxO>\"\n    });\n    const result = await pipe3(\n      makeGet(pattern, schema, this.headers?.kupoHeader),\n      Effect2.provide(FetchHttpClient.layer),\n      Effect2.repeat({\n        schedule: Schedule.exponential(checkInterval),\n        until: (result2) => result2.length > 0\n      }),\n      Effect2.timeout(16e4),\n      Effect2.catchAll((cause) => new KupmiosError({ cause })),\n      Effect2.as(true),\n      Effect2.runPromise\n    );\n    return result;\n  }\n  async submitTx(cbor) {\n    const data = {\n      jsonrpc: \"2.0\",\n      method: \"submitTransaction\",\n      params: {\n        transaction: { cbor }\n      },\n      id: null\n    };\n    const schema = JSONRPCSchema(\n      S3.Struct({\n        transaction: S3.Struct({\n          id: S3.String\n        })\n      })\n    );\n    const { result } = await pipe3(\n      makePostAsJson(\n        this.ogmiosUrl,\n        data,\n        schema,\n        this.headers?.ogmiosHeader\n      ),\n      Effect2.provide(FetchHttpClient.layer),\n      Effect2.timeout(1e4),\n      Effect2.catchAll((cause) => new KupmiosError({ cause })),\n      Effect2.runPromise\n    );\n    return result.transaction.id;\n  }\n  async evaluateTx(tx, additionalUTxOs) {\n    const data = {\n      jsonrpc: \"2.0\",\n      method: \"evaluateTransaction\",\n      params: {\n        transaction: { cbor: tx },\n        additionalUtxo: toOgmiosUTxOs(additionalUTxOs)\n      },\n      id: null\n    };\n    const schema = JSONRPCSchema(S3.Array(RedeemerSchema));\n    const { result } = await pipe3(\n      makePostAsJson(\n        this.ogmiosUrl,\n        data,\n        schema,\n        this.headers?.ogmiosHeader\n      ),\n      Effect2.provide(FetchHttpClient.layer),\n      Effect2.timeout(1e4),\n      Effect2.catchAll((cause) => new KupmiosError({ cause })),\n      Effect2.runPromise\n    );\n    const evalRedeemers = result.map((item) => ({\n      ex_units: {\n        mem: item.budget.memory,\n        steps: item.budget.cpu\n      },\n      redeemer_index: item.validator.index,\n      redeemer_tag: item.validator.purpose\n    }));\n    return evalRedeemers;\n  }\n};\nvar getDatumEffect = (kupoUrl, datum_type, datum_hash, kupoHeader) => Effect2.gen(function* () {\n  if (datum_type === \"inline\" && datum_hash) {\n    const pattern = `${kupoUrl}/datums/${datum_hash}`;\n    const schema = DatumSchema;\n    return yield* pipe3(\n      makeGet(pattern, schema, kupoHeader),\n      Effect2.flatMap(Effect2.fromNullable),\n      Effect2.map((result) => result.datum),\n      Effect2.retry(\n        Schedule.compose(Schedule.exponential(50), Schedule.recurs(5))\n      ),\n      Effect2.timeout(5e3)\n    );\n  } else return void 0;\n});\nvar getScriptEffect = (kupoUrl, script_hash, kupoHeader) => Effect2.gen(function* () {\n  if (script_hash) {\n    const pattern = `${kupoUrl}/scripts/${script_hash}`;\n    const schema = ScriptSchema;\n    return yield* pipe3(\n      makeGet(pattern, schema, kupoHeader),\n      Effect2.flatMap(Effect2.fromNullable),\n      Effect2.retry(\n        Schedule.compose(Schedule.exponential(50), Schedule.recurs(5))\n      ),\n      Effect2.timeout(5e3),\n      Effect2.map(({ language, script }) => {\n        switch (language) {\n          case \"native\":\n            return {\n              type: \"Native\",\n              script\n            };\n          case \"plutus:v1\":\n            return {\n              type: \"PlutusV1\",\n              script: applyDoubleCborEncoding2(script)\n            };\n          case \"plutus:v2\":\n            return {\n              type: \"PlutusV2\",\n              script: applyDoubleCborEncoding2(script)\n            };\n          case \"plutus:v3\":\n            return {\n              type: \"PlutusV3\",\n              script: applyDoubleCborEncoding2(script)\n            };\n        }\n      })\n    );\n  } else return void 0;\n});\nvar toAssets = (value) => {\n  const assets = { lovelace: BigInt(value.coins) };\n  for (const unit of Object.keys(value.assets)) {\n    assets[unit.replace(\".\", \"\")] = BigInt(value.assets[unit]);\n  }\n  return assets;\n};\nvar toProtocolParameters = (result) => {\n  return {\n    minFeeA: result.minFeeCoefficient,\n    minFeeB: result.minFeeConstant.ada.lovelace,\n    maxTxSize: result.maxTransactionSize.bytes,\n    maxValSize: result.maxValueSize.bytes,\n    keyDeposit: BigInt(result.stakeCredentialDeposit.ada.lovelace),\n    poolDeposit: BigInt(result.stakePoolDeposit.ada.lovelace),\n    drepDeposit: BigInt(result.delegateRepresentativeDeposit.ada.lovelace),\n    govActionDeposit: BigInt(result.governanceActionDeposit.ada.lovelace),\n    priceMem: result.scriptExecutionPrices.memory[0] / result.scriptExecutionPrices.memory[1],\n    priceStep: result.scriptExecutionPrices.cpu[0] / result.scriptExecutionPrices.cpu[1],\n    maxTxExMem: BigInt(result.maxExecutionUnitsPerTransaction.memory),\n    maxTxExSteps: BigInt(result.maxExecutionUnitsPerTransaction.cpu),\n    // NOTE: coinsPerUtxoByte is now called utxoCostPerByte:\n    // https://github.com/IntersectMBO/cardano-node/pull/4141\n    // Ogmios v6.x calls it minUtxoDepositCoefficient according to the following\n    // documentation from its protocol parameters data model:\n    // https://github.com/CardanoSolutions/ogmios/blob/master/architectural-decisions/accepted/017-api-version-6-major-rewrite.md#protocol-parameters\n    coinsPerUtxoByte: BigInt(result.minUtxoDepositCoefficient),\n    collateralPercentage: result.collateralPercentage,\n    maxCollateralInputs: result.maxCollateralInputs,\n    minFeeRefScriptCostPerByte: result.minFeeReferenceScripts.base,\n    costModels: {\n      PlutusV1: Object.fromEntries(\n        result.plutusCostModels[\"plutus:v1\"].map((value, index) => [\n          index.toString(),\n          value\n        ])\n      ),\n      PlutusV2: Object.fromEntries(\n        result.plutusCostModels[\"plutus:v2\"].map((value, index) => [\n          index.toString(),\n          value\n        ])\n      ),\n      PlutusV3: Object.fromEntries(\n        result.plutusCostModels[\"plutus:v3\"].map((value, index) => [\n          index.toString(),\n          value\n        ])\n      )\n    }\n  };\n};\nvar kupmiosUtxosToUtxos = (kupoURL, utxos, kupoHeader) => Effect2.forEach(\n  utxos,\n  (utxo) => {\n    return pipe3(\n      Effect2.all([\n        getDatumEffect(kupoURL, utxo.datum_type, utxo.datum_hash, kupoHeader),\n        getScriptEffect(kupoURL, utxo.script_hash, kupoHeader)\n      ]),\n      Effect2.map(\n        ([datum, script]) => ({\n          txHash: utxo.transaction_id,\n          outputIndex: utxo.output_index,\n          address: utxo.address,\n          assets: toAssets(utxo.value),\n          datumHash: utxo.datum_type === \"hash\" ? utxo.datum_hash : void 0,\n          datum,\n          scriptRef: script\n        })\n      )\n    );\n  },\n  { concurrency: \"unbounded\" }\n);\n\n// src/emulator.ts\nimport {\n  fromCMLRedeemerTag,\n  generateSeedPhrase,\n  PROTOCOL_PARAMETERS_DEFAULT\n} from \"@lucid-evolution/utils\";\nimport { coreToUtxo, getAddressDetails } from \"@lucid-evolution/utils\";\nimport { fromHex as fromHex2 } from \"@lucid-evolution/core-utils\";\nimport { walletFromSeed } from \"@lucid-evolution/wallet\";\nfunction generateEmulatorAccountFromPrivateKey(assets) {\n  const privateKey = CML.PrivateKey.generate_ed25519().to_bech32();\n  const priv = CML.PrivateKey.from_bech32(privateKey);\n  const pubKeyHash = priv.to_public().hash();\n  const address = CML.EnterpriseAddress.new(\n    0,\n    CML.Credential.new_pub_key(pubKeyHash)\n  ).to_address().to_bech32(void 0);\n  return {\n    seedPhrase: \"\",\n    address,\n    assets,\n    privateKey\n  };\n}\nfunction generateEmulatorAccount(assets) {\n  const seedPhrase = generateSeedPhrase();\n  return {\n    seedPhrase,\n    address: walletFromSeed(seedPhrase, {\n      addressType: \"Base\",\n      accountIndex: 0,\n      network: \"Custom\"\n    }).address,\n    assets,\n    privateKey: \"\"\n  };\n}\nvar Emulator = class {\n  ledger;\n  mempool = {};\n  /**\n   * Only stake key registrations/delegations and rewards are tracked.\n   * Other certificates are not tracked.\n   */\n  chain = {};\n  blockHeight;\n  slot;\n  time;\n  protocolParameters;\n  datumTable = {};\n  constructor(accounts, protocolParameters = PROTOCOL_PARAMETERS_DEFAULT) {\n    const GENESIS_HASH = \"00\".repeat(32);\n    this.blockHeight = 0;\n    this.slot = 0;\n    this.time = Date.now();\n    this.ledger = {};\n    accounts.forEach(({ address, assets, outputData }, index) => {\n      if ([outputData?.hash, outputData?.asHash, outputData?.inline].filter(\n        (b) => b\n      ).length > 1) {\n        throw new Error(\n          \"Not allowed to set hash, asHash and inline at the same time.\"\n        );\n      }\n      this.ledger[GENESIS_HASH + index] = {\n        utxo: {\n          txHash: GENESIS_HASH,\n          outputIndex: index,\n          address,\n          assets,\n          datumHash: outputData?.asHash ? CML.hash_plutus_data(\n            CML.PlutusData.from_cbor_hex(outputData.asHash)\n          ).to_hex() : outputData?.hash,\n          datum: outputData?.inline,\n          scriptRef: outputData?.scriptRef\n        },\n        spent: false\n      };\n    });\n    this.protocolParameters = protocolParameters;\n  }\n  now() {\n    return this.time;\n  }\n  awaitSlot(length = 1) {\n    this.slot += length;\n    this.time += length * 1e3;\n    const currentHeight = this.blockHeight;\n    this.blockHeight = Math.floor(this.slot / 20);\n    if (this.blockHeight > currentHeight) {\n      for (const [outRef, { utxo, spent }] of Object.entries(this.mempool)) {\n        this.ledger[outRef] = { utxo, spent };\n      }\n      for (const [outRef, { spent }] of Object.entries(this.ledger)) {\n        if (spent) delete this.ledger[outRef];\n      }\n      this.mempool = {};\n    }\n  }\n  awaitBlock(height = 1) {\n    this.blockHeight += height;\n    this.slot += height * 20;\n    this.time += height * 20 * 1e3;\n    for (const [outRef, { utxo, spent }] of Object.entries(this.mempool)) {\n      this.ledger[outRef] = { utxo, spent };\n    }\n    for (const [outRef, { spent }] of Object.entries(this.ledger)) {\n      if (spent) delete this.ledger[outRef];\n    }\n    this.mempool = {};\n  }\n  getUtxos(addressOrCredential) {\n    const utxos = Object.values(this.ledger).flatMap(({ utxo }) => {\n      if (typeof addressOrCredential === \"string\") {\n        return addressOrCredential === utxo.address ? utxo : [];\n      } else {\n        const { paymentCredential } = getAddressDetails(utxo.address);\n        return paymentCredential?.hash === addressOrCredential.hash ? utxo : [];\n      }\n    });\n    return Promise.resolve(utxos);\n  }\n  getProtocolParameters() {\n    return Promise.resolve(this.protocolParameters);\n  }\n  getDatum(datumHash) {\n    return Promise.resolve(this.datumTable[datumHash]);\n  }\n  getUtxosWithUnit(addressOrCredential, unit) {\n    const utxos = Object.values(this.ledger).flatMap(({ utxo }) => {\n      if (typeof addressOrCredential === \"string\") {\n        return addressOrCredential === utxo.address && utxo.assets[unit] > 0n ? utxo : [];\n      } else {\n        const { paymentCredential } = getAddressDetails(utxo.address);\n        return paymentCredential?.hash === addressOrCredential.hash && utxo.assets[unit] > 0n ? utxo : [];\n      }\n    });\n    return Promise.resolve(utxos);\n  }\n  getUtxosByOutRef(outRefs) {\n    return Promise.resolve(\n      outRefs.flatMap(\n        (outRef) => this.ledger[outRef.txHash + outRef.outputIndex]?.utxo || []\n      )\n    );\n  }\n  getUtxoByUnit(unit) {\n    const utxos = Object.values(this.ledger).flatMap(\n      ({ utxo }) => utxo.assets[unit] > 0n ? utxo : []\n    );\n    if (utxos.length > 1) {\n      throw new Error(\"Unit needs to be an NFT or only held by one address.\");\n    }\n    return Promise.resolve(utxos[0]);\n  }\n  getDelegation(rewardAddress) {\n    return Promise.resolve({\n      poolId: this.chain[rewardAddress]?.delegation?.poolId || null,\n      rewards: this.chain[rewardAddress]?.delegation?.rewards || 0n\n    });\n  }\n  awaitTx(txHash) {\n    if (this.mempool[txHash + 0]) {\n      this.awaitBlock();\n      return Promise.resolve(true);\n    }\n    return Promise.resolve(true);\n  }\n  /**\n   * Emulates the behaviour of the reward distribution at epoch boundaries.\n   * Stake keys need to be registered and delegated like on a real chain in order to receive rewards.\n   */\n  distributeRewards(rewards) {\n    for (const [\n      rewardAddress,\n      { registeredStake, delegation }\n    ] of Object.entries(this.chain)) {\n      if (registeredStake && delegation.poolId) {\n        this.chain[rewardAddress] = {\n          registeredStake,\n          delegation: {\n            poolId: delegation.poolId,\n            rewards: delegation.rewards += rewards\n          }\n        };\n      }\n    }\n    this.awaitBlock();\n  }\n  submitTx(tx) {\n    const desTx = CML.Transaction.from_cbor_hex(tx);\n    const body = desTx.body();\n    const witnesses = desTx.witness_set();\n    const datums = witnesses.plutus_datums();\n    const txHash = CML.hash_transaction(body).to_hex();\n    const lowerBound = body.validity_interval_start() ? parseInt(body.validity_interval_start().toString()) : null;\n    const upperBound = body.ttl() ? parseInt(body.ttl().toString()) : null;\n    if (Number.isInteger(lowerBound) && this.slot < lowerBound) {\n      throw new Error(\n        `Lower bound (${lowerBound}) not in slot range (${this.slot}).`\n      );\n    }\n    if (Number.isInteger(upperBound) && this.slot > upperBound) {\n      throw new Error(\n        `Upper bound (${upperBound}) not in slot range (${this.slot}).`\n      );\n    }\n    const datumTable = (() => {\n      const table = {};\n      for (let i = 0; i < (datums?.len() || 0); i++) {\n        const datum = datums.get(i);\n        const datumHash = CML.hash_plutus_data(datum).to_hex();\n        table[datumHash] = datum.to_cbor_hex();\n      }\n      return table;\n    })();\n    const consumedHashes = /* @__PURE__ */ new Set();\n    const keyHashes = (() => {\n      const keyHashes2 = [];\n      for (let i = 0; i < (witnesses.vkeywitnesses()?.len() || 0); i++) {\n        const witness = witnesses.vkeywitnesses().get(i);\n        const publicKey = witness.vkey();\n        const keyHash = publicKey.hash().to_hex();\n        if (!publicKey.verify(fromHex2(txHash), witness.ed25519_signature())) {\n          throw new Error(`Invalid vkey witness. Key hash: ${keyHash}`);\n        }\n        keyHashes2.push(keyHash);\n      }\n      return keyHashes2;\n    })();\n    const edKeyHashes = CML.Ed25519KeyHashList.new();\n    keyHashes.forEach(\n      (keyHash) => edKeyHashes.add(CML.Ed25519KeyHash.from_hex(keyHash))\n    );\n    const nativeHashes = (() => {\n      const scriptHashes = [];\n      for (let i = 0; i < (witnesses.native_scripts()?.len() || 0); i++) {\n        const witness = witnesses.native_scripts().get(i);\n        const scriptHash = witness.hash().to_hex();\n        if (!witness.verify(\n          Number.isInteger(lowerBound) ? CML.BigInteger.from_str(lowerBound.toString()).to_js_value() : void 0,\n          Number.isInteger(upperBound) ? CML.BigInteger.from_str(upperBound.toString()).to_js_value() : void 0,\n          edKeyHashes\n        )) {\n          throw new Error(\n            `Invalid native script witness. Script hash: ${scriptHash}`\n          );\n        }\n        for (let i2 = 0; i2 < witness.get_required_signers().len(); i2++) {\n          const keyHash = witness.get_required_signers().get(i2).to_hex();\n          consumedHashes.add(keyHash);\n        }\n        scriptHashes.push(scriptHash);\n      }\n      return scriptHashes;\n    })();\n    const nativeHashesOptional = {};\n    const plutusHashesOptional = [];\n    const plutusHashes = (() => {\n      const scriptHashes = [];\n      for (let i = 0; i < (witnesses.plutus_v1_scripts()?.len() || 0); i++) {\n        const script = witnesses.plutus_v1_scripts().get(i);\n        const scriptHash = script.hash().to_hex();\n        scriptHashes.push(scriptHash);\n      }\n      for (let i = 0; i < (witnesses.plutus_v2_scripts()?.len() || 0); i++) {\n        const script = witnesses.plutus_v2_scripts().get(i);\n        const scriptHash = script.hash().to_hex();\n        scriptHashes.push(scriptHash);\n      }\n      for (let i = 0; i < (witnesses.plutus_v3_scripts()?.len() || 0); i++) {\n        const script = witnesses.plutus_v3_scripts().get(i);\n        const scriptHash = script.hash().to_hex();\n        scriptHashes.push(scriptHash);\n      }\n      return scriptHashes;\n    })();\n    const inputs = body.inputs();\n    const resolvedInputs = [];\n    for (let i = 0; i < inputs.len(); i++) {\n      const input = inputs.get(i);\n      const outRef = input.transaction_id().to_hex() + input.index().toString();\n      const entryLedger = this.ledger[outRef];\n      const { entry, type } = !entryLedger ? { entry: this.mempool[outRef], type: \"Mempool\" } : { entry: entryLedger, type: \"Ledger\" };\n      if (!entry || entry.spent) {\n        throw new Error(\n          `Could not spend UTxO: ${JSON.stringify({\n            txHash: entry?.utxo.txHash,\n            outputIndex: entry?.utxo.outputIndex\n          })}\nIt does not exist or was already spent.`\n        );\n      }\n      const scriptRef = entry.utxo.scriptRef;\n      if (scriptRef) {\n        switch (scriptRef.type) {\n          case \"Native\": {\n            const script = CML.NativeScript.from_cbor_bytes(\n              fromHex2(scriptRef.script)\n            );\n            nativeHashesOptional[script.hash().to_hex()] = script;\n            break;\n          }\n          case \"PlutusV1\": {\n            const script = CML.PlutusScript.from_v1(\n              CML.PlutusV1Script.from_cbor_bytes(fromHex2(scriptRef.script))\n            );\n            plutusHashesOptional.push(script.hash().to_hex());\n            break;\n          }\n          case \"PlutusV2\": {\n            const script = CML.PlutusScript.from_v2(\n              CML.PlutusV2Script.from_cbor_bytes(fromHex2(scriptRef.script))\n            );\n            plutusHashesOptional.push(script.hash().to_hex());\n            break;\n          }\n          case \"PlutusV3\": {\n            const script = CML.PlutusScript.from_v3(\n              CML.PlutusV3Script.from_cbor_bytes(fromHex2(scriptRef.script))\n            );\n            plutusHashesOptional.push(script.hash().to_hex());\n            break;\n          }\n        }\n      }\n      if (entry.utxo.datumHash) consumedHashes.add(entry.utxo.datumHash);\n      resolvedInputs.push({ entry, type });\n    }\n    for (let i = 0; i < (body.reference_inputs()?.len() || 0); i++) {\n      const input = body.reference_inputs().get(i);\n      const outRef = input.transaction_id().to_hex() + input.index().toString();\n      const entry = this.ledger[outRef] || this.mempool[outRef];\n      if (!entry || entry.spent) {\n        throw new Error(\n          `Could not read UTxO: ${JSON.stringify({\n            txHash: entry?.utxo.txHash,\n            outputIndex: entry?.utxo.outputIndex\n          })}\nIt does not exist or was already spent.`\n        );\n      }\n      const scriptRef = entry.utxo.scriptRef;\n      if (scriptRef) {\n        switch (scriptRef.type) {\n          case \"Native\": {\n            const script = CML.NativeScript.from_cbor_bytes(\n              fromHex2(scriptRef.script)\n            );\n            nativeHashesOptional[script.hash().to_hex()] = script;\n            break;\n          }\n          case \"PlutusV1\": {\n            const script = CML.PlutusScript.from_v1(\n              CML.PlutusV1Script.from_cbor_bytes(fromHex2(scriptRef.script))\n            );\n            plutusHashesOptional.push(script.hash().to_hex());\n            break;\n          }\n          case \"PlutusV2\": {\n            const script = CML.PlutusScript.from_v2(\n              CML.PlutusV2Script.from_cbor_bytes(fromHex2(scriptRef.script))\n            );\n            plutusHashesOptional.push(script.hash().to_hex());\n            break;\n          }\n          case \"PlutusV3\": {\n            const script = CML.PlutusScript.from_v3(\n              CML.PlutusV3Script.from_cbor_bytes(fromHex2(scriptRef.script))\n            );\n            plutusHashesOptional.push(script.hash().to_hex());\n            break;\n          }\n        }\n      }\n      if (entry.utxo.datumHash) consumedHashes.add(entry.utxo.datumHash);\n    }\n    const redeemers = (() => {\n      const tagMap = {\n        0: \"Spend\",\n        1: \"Mint\",\n        2: \"Cert\",\n        3: \"Reward\",\n        4: \"Proposing\",\n        5: \"Voting\"\n      };\n      const collected = [];\n      const redeemers2 = witnesses.redeemers();\n      const arrLegacyRedeemer = redeemers2?.as_arr_legacy_redeemer();\n      if (arrLegacyRedeemer) {\n        for (let i = 0; i < (arrLegacyRedeemer.len() || 0); i++) {\n          const redeemer = arrLegacyRedeemer.get(i);\n          collected.push({\n            tag: tagMap[redeemer.tag()],\n            index: Number(redeemer.index())\n          });\n        }\n      }\n      const mapRedeemerKeyToRedeemerVal = redeemers2?.as_map_redeemer_key_to_redeemer_val();\n      if (mapRedeemerKeyToRedeemerVal) {\n        const keys = mapRedeemerKeyToRedeemerVal.keys();\n        for (let i = 0; i < (keys.len() || 0); i++) {\n          const key = keys.get(i);\n          collected.push({\n            tag: tagMap[key.tag()],\n            index: Number(key.index())\n          });\n        }\n      }\n      return collected;\n    })();\n    function checkAndConsumeHash(credential, tag, index) {\n      switch (credential.type) {\n        case \"Key\": {\n          if (!keyHashes.includes(credential.hash)) {\n            throw new Error(\n              `Missing vkey witness. Key hash: ${credential.hash}`\n            );\n          }\n          consumedHashes.add(credential.hash);\n          break;\n        }\n        case \"Script\": {\n          if (nativeHashes.includes(credential.hash)) {\n            consumedHashes.add(credential.hash);\n            break;\n          } else if (nativeHashesOptional[credential.hash]) {\n            if (!nativeHashesOptional[credential.hash].verify(\n              Number.isInteger(lowerBound) ? CML.BigInteger.from_str(\n                lowerBound.toString()\n              ).to_js_value() : void 0,\n              Number.isInteger(upperBound) ? CML.BigInteger.from_str(\n                upperBound.toString()\n              ).to_js_value() : void 0,\n              edKeyHashes\n            )) {\n              throw new Error(\n                `Invalid native script witness. Script hash: ${credential.hash}`\n              );\n            }\n            break;\n          } else if (plutusHashes.includes(credential.hash) || plutusHashesOptional.includes(credential.hash)) {\n            if (redeemers.find(\n              (redeemer) => redeemer.tag === tag && redeemer.index === index\n            )) {\n              consumedHashes.add(credential.hash);\n              break;\n            }\n          }\n          throw new Error(\n            `Missing script witness. Script hash: ${credential.hash}`\n          );\n        }\n      }\n    }\n    for (let i = 0; i < (body.collateral_inputs()?.len() || 0); i++) {\n      const input = body.collateral_inputs().get(i);\n      const outRef = input.transaction_id().to_hex() + input.index().toString();\n      const entry = this.ledger[outRef] || this.mempool[outRef];\n      if (!entry || entry.spent) {\n        throw new Error(\n          `Could not read UTxO: ${JSON.stringify({\n            txHash: entry?.utxo.txHash,\n            outputIndex: entry?.utxo.outputIndex\n          })}\nIt does not exist or was already spent.`\n        );\n      }\n      const { paymentCredential } = getAddressDetails(entry.utxo.address);\n      if (paymentCredential?.type === \"Script\") {\n        throw new Error(\"Collateral inputs can only contain vkeys.\");\n      }\n      checkAndConsumeHash(paymentCredential, null, null);\n    }\n    for (let i = 0; i < (body.required_signers()?.len() || 0); i++) {\n      const signer = body.required_signers().get(i);\n      checkAndConsumeHash({ type: \"Key\", hash: signer.to_hex() }, null, null);\n    }\n    for (let index = 0; index < (body.mint()?.keys().len() || 0); index++) {\n      const policyId = body.mint().keys().get(index).to_hex();\n      checkAndConsumeHash({ type: \"Script\", hash: policyId }, \"Mint\", index);\n    }\n    const withdrawalRequests = [];\n    for (let index = 0; index < (body.withdrawals()?.keys().len() || 0); index++) {\n      const rawAddress = body.withdrawals().keys().get(index);\n      const withdrawal = BigInt(\n        body.withdrawals().get(rawAddress).toString()\n      );\n      const rewardAddress = rawAddress.to_address().to_bech32(void 0);\n      const { stakeCredential } = getAddressDetails(rewardAddress);\n      checkAndConsumeHash(stakeCredential, \"Reward\", index);\n      if (this.chain[rewardAddress]?.delegation.rewards !== withdrawal) {\n        throw new Error(\n          \"Withdrawal amount doesn't match actual reward balance.\"\n        );\n      }\n      withdrawalRequests.push({ rewardAddress, withdrawal });\n    }\n    const certRequests = [];\n    for (let index = 0; index < (body.certs()?.len() || 0); index++) {\n      const cert = body.certs().get(index);\n      switch (cert.kind()) {\n        case 0: {\n          const registration = cert.as_stake_registration();\n          const rewardAddress = CML.RewardAddress.new(\n            CML.NetworkInfo.testnet().network_id(),\n            registration.stake_credential()\n          ).to_address().to_bech32(void 0);\n          if (this.chain[rewardAddress]?.registeredStake) {\n            throw new Error(\n              `Stake key is already registered. Reward address: ${rewardAddress}`\n            );\n          }\n          certRequests.push({ type: \"Registration\", rewardAddress });\n          break;\n        }\n        case 1: {\n          const deregistration = cert.as_stake_deregistration();\n          const rewardAddress = CML.RewardAddress.new(\n            CML.NetworkInfo.testnet().network_id(),\n            deregistration.stake_credential()\n          ).to_address().to_bech32(void 0);\n          const { stakeCredential } = getAddressDetails(rewardAddress);\n          checkAndConsumeHash(stakeCredential, \"Cert\", index);\n          if (!this.chain[rewardAddress]?.registeredStake) {\n            throw new Error(\n              `Stake key is already deregistered. Reward address: ${rewardAddress}`\n            );\n          }\n          certRequests.push({ type: \"Deregistration\", rewardAddress });\n          break;\n        }\n        case 2: {\n          const delegation = cert.as_stake_delegation();\n          const rewardAddress = CML.RewardAddress.new(\n            CML.NetworkInfo.testnet().network_id(),\n            delegation.stake_credential()\n          ).to_address().to_bech32(void 0);\n          const poolId = delegation.pool().to_bech32(\"pool\");\n          const { stakeCredential } = getAddressDetails(rewardAddress);\n          checkAndConsumeHash(stakeCredential, \"Cert\", index);\n          if (!this.chain[rewardAddress]?.registeredStake && !certRequests.find(\n            (request) => request.type === \"Registration\" && request.rewardAddress === rewardAddress\n          )) {\n            throw new Error(\n              `Stake key is not registered. Reward address: ${rewardAddress}`\n            );\n          }\n          certRequests.push({ type: \"Delegation\", rewardAddress, poolId });\n          break;\n        }\n      }\n    }\n    resolvedInputs.forEach(({ entry: { utxo } }, index) => {\n      const { paymentCredential } = getAddressDetails(utxo.address);\n      checkAndConsumeHash(paymentCredential, \"Spend\", index);\n    });\n    const outputs = (() => {\n      const collected = [];\n      for (let i = 0; i < body.outputs().len(); i++) {\n        const output = body.outputs().get(i);\n        const unspentOutput = CML.TransactionUnspentOutput.new(\n          CML.TransactionInput.new(\n            CML.TransactionHash.from_hex(txHash),\n            CML.BigInteger.from_str(i.toString()).to_js_value()\n          ),\n          output\n        );\n        const utxo = coreToUtxo(unspentOutput);\n        if (utxo.datumHash) consumedHashes.add(utxo.datumHash);\n        collected.push({\n          utxo,\n          spent: false\n        });\n      }\n      return collected;\n    })();\n    const [extraKeyHash] = keyHashes.filter(\n      (keyHash) => !consumedHashes.has(keyHash)\n    );\n    if (extraKeyHash) {\n      throw new Error(`Extraneous vkey witness. Key hash: ${extraKeyHash}`);\n    }\n    const [extraNativeHash] = nativeHashes.filter(\n      (scriptHash) => !consumedHashes.has(scriptHash)\n    );\n    if (extraNativeHash) {\n      throw new Error(\n        `Extraneous native script. Script hash: ${extraNativeHash}`\n      );\n    }\n    const [extraPlutusHash] = plutusHashes.filter(\n      (scriptHash) => !consumedHashes.has(scriptHash)\n    );\n    if (extraPlutusHash) {\n      throw new Error(\n        `Extraneous plutus script. Script hash: ${extraPlutusHash}`\n      );\n    }\n    const [extraDatumHash] = Object.keys(datumTable).filter(\n      (datumHash) => !consumedHashes.has(datumHash)\n    );\n    if (extraDatumHash) {\n      throw new Error(`Extraneous plutus data. Datum hash: ${extraDatumHash}`);\n    }\n    resolvedInputs.forEach(({ entry, type }) => {\n      const outRef = entry.utxo.txHash + entry.utxo.outputIndex;\n      entry.spent = true;\n      if (type === \"Ledger\") this.ledger[outRef] = entry;\n      else if (type === \"Mempool\") this.mempool[outRef] = entry;\n    });\n    withdrawalRequests.forEach(({ rewardAddress, withdrawal }) => {\n      this.chain[rewardAddress].delegation.rewards -= withdrawal;\n    });\n    certRequests.forEach(({ type, rewardAddress, poolId }) => {\n      switch (type) {\n        case \"Registration\": {\n          if (this.chain[rewardAddress]) {\n            this.chain[rewardAddress].registeredStake = true;\n          } else {\n            this.chain[rewardAddress] = {\n              registeredStake: true,\n              delegation: { poolId: null, rewards: 0n }\n            };\n          }\n          break;\n        }\n        case \"Deregistration\": {\n          this.chain[rewardAddress].registeredStake = false;\n          this.chain[rewardAddress].delegation.poolId = null;\n          break;\n        }\n        case \"Delegation\": {\n          this.chain[rewardAddress].delegation.poolId = poolId;\n        }\n      }\n    });\n    outputs.forEach(({ utxo, spent }) => {\n      this.mempool[utxo.txHash + utxo.outputIndex] = {\n        utxo,\n        spent\n      };\n    });\n    for (const [datumHash, datum] of Object.entries(datumTable)) {\n      this.datumTable[datumHash] = datum;\n    }\n    return Promise.resolve(txHash);\n  }\n  async evaluateTx(tx, additionalUTxOs) {\n    const desTx = CML.Transaction.from_cbor_hex(tx);\n    const redeemers = desTx.witness_set().redeemers();\n    if (!redeemers) {\n      return [];\n    }\n    let evalRedeemers = [];\n    const arrLegacyRedeemer = redeemers.as_arr_legacy_redeemer();\n    if (arrLegacyRedeemer) {\n      for (let i = 0; i < arrLegacyRedeemer.len(); i++) {\n        const legacyRedeemer = arrLegacyRedeemer.get(i);\n        evalRedeemers.push({\n          ex_units: {\n            mem: Number(legacyRedeemer.ex_units().mem()),\n            steps: Number(legacyRedeemer.ex_units().steps())\n          },\n          redeemer_index: Number(legacyRedeemer.index()),\n          redeemer_tag: fromCMLRedeemerTag(legacyRedeemer.tag())\n        });\n      }\n      return evalRedeemers;\n    }\n    const mapRedeemerKeyToRedeemerVal = redeemers.as_map_redeemer_key_to_redeemer_val();\n    if (mapRedeemerKeyToRedeemerVal) {\n      const keys = mapRedeemerKeyToRedeemerVal.keys();\n      for (let i = 0; i < keys.len(); i++) {\n        const key = keys.get(i);\n        const redeemerVal = mapRedeemerKeyToRedeemerVal.get(key);\n        if (redeemerVal) {\n          evalRedeemers.push({\n            ex_units: {\n              mem: Number(redeemerVal.ex_units().mem()),\n              steps: Number(redeemerVal.ex_units().steps())\n            },\n            redeemer_index: Number(key.index),\n            redeemer_tag: fromCMLRedeemerTag(key.tag())\n          });\n        }\n      }\n      return evalRedeemers;\n    }\n    return evalRedeemers;\n  }\n  log() {\n    function getRandomColor(unit) {\n      const seed = unit === \"lovelace\" ? \"1\" : unit;\n      let num = 0;\n      for (let i = 0; i < seed.length; i++) {\n        num += seed.charCodeAt(i);\n      }\n      const r = num * 123 % 256;\n      const g = num * 321 % 256;\n      const b = num * 213 % 256;\n      return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    }\n    const totalBalances = {};\n    const balances = {};\n    for (const { utxo } of Object.values(this.ledger)) {\n      for (const [unit, quantity] of Object.entries(utxo.assets)) {\n        if (!balances[utxo.address]) {\n          balances[utxo.address] = { [unit]: quantity };\n        } else if (!balances[utxo.address]?.[unit]) {\n          balances[utxo.address][unit] = quantity;\n        } else {\n          balances[utxo.address][unit] += quantity;\n        }\n        if (!totalBalances[unit]) {\n          totalBalances[unit] = quantity;\n        } else {\n          totalBalances[unit] += quantity;\n        }\n      }\n    }\n    console.log(\"\\n%cBlockchain state\", \"color:purple\");\n    console.log(\n      `\n    Block height:   %c${this.blockHeight}%c\n    Slot:           %c${this.slot}%c\n    Unix time:      %c${this.time}\n  `,\n      \"color:yellow\",\n      \"color:white\",\n      \"color:yellow\",\n      \"color:white\",\n      \"color:yellow\"\n    );\n    console.log(\"\\n\");\n    for (const [address, assets] of Object.entries(balances)) {\n      console.log(`Address: %c${address}`, \"color:blue\", \"\\n\");\n      for (const [unit, quantity] of Object.entries(assets)) {\n        const barLength = Math.max(\n          Math.floor(60 * (Number(quantity) / Number(totalBalances[unit]))),\n          1\n        );\n        console.log(\n          `%c${\"\\u2586\".repeat(barLength) + \" \".repeat(60 - barLength)}`,\n          `color: ${getRandomColor(unit)}`,\n          \"\",\n          `${unit}:`,\n          quantity,\n          \"\"\n        );\n      }\n      console.log(`\n${\"\\u2581\".repeat(60)}\n`);\n    }\n  }\n};\n\n// src/maestro.ts\nimport {\n  applyDoubleCborEncoding as applyDoubleCborEncoding3,\n  scriptFromNative as scriptFromNative2,\n  utxoToCore\n} from \"@lucid-evolution/utils\";\nimport { fromHex as fromHex3 } from \"@lucid-evolution/core-utils\";\nvar Maestro = class {\n  url;\n  apiKey;\n  turboSubmit;\n  constructor({ network, apiKey, turboSubmit = false }) {\n    this.url = `https://${network}.gomaestro-api.org/v1`;\n    this.apiKey = apiKey;\n    this.turboSubmit = turboSubmit;\n  }\n  async getProtocolParameters() {\n    const timestampedResult = await fetch(`${this.url}/protocol-parameters`, {\n      headers: this.commonHeaders()\n    }).then((res) => res.json());\n    const result = timestampedResult.data;\n    const decimalFromRationalString = (str) => {\n      const forwardSlashIndex = str.indexOf(\"/\");\n      return parseInt(str.slice(0, forwardSlashIndex)) / parseInt(str.slice(forwardSlashIndex + 1));\n    };\n    return {\n      minFeeA: parseInt(result.min_fee_coefficient),\n      minFeeB: parseInt(result.min_fee_constant.ada.lovelace),\n      maxTxSize: parseInt(result.max_transaction_size.bytes),\n      maxValSize: parseInt(result.max_value_size.bytes),\n      keyDeposit: BigInt(result.stake_credential_deposit.ada.lovelace),\n      poolDeposit: BigInt(result.stake_pool_deposit.ada.lovelace),\n      drepDeposit: BigInt(result.delegate_representative_deposit.ada.lovelace),\n      govActionDeposit: BigInt(result.governance_action_deposit.ada.lovelace),\n      priceMem: decimalFromRationalString(\n        result.script_execution_prices.memory\n      ),\n      priceStep: decimalFromRationalString(result.script_execution_prices.cpu),\n      maxTxExMem: BigInt(result.max_execution_units_per_transaction.memory),\n      maxTxExSteps: BigInt(result.max_execution_units_per_transaction.cpu),\n      coinsPerUtxoByte: BigInt(result.min_utxo_deposit_coefficient),\n      collateralPercentage: parseInt(result.collateral_percentage),\n      maxCollateralInputs: parseInt(result.max_collateral_inputs),\n      minFeeRefScriptCostPerByte: parseInt(\n        result.min_fee_reference_scripts.base\n      ),\n      costModels: {\n        PlutusV1: Object.fromEntries(\n          result.plutus_cost_models.plutus_v1.map(\n            (value, index) => [index.toString(), value]\n          )\n        ),\n        PlutusV2: Object.fromEntries(\n          result.plutus_cost_models.plutus_v2.map(\n            (value, index) => [index.toString(), value]\n          )\n        ),\n        PlutusV3: Object.fromEntries(\n          result.plutus_cost_models.plutus_v3.map(\n            (value, index) => [index.toString(), value]\n          )\n        )\n      }\n    };\n  }\n  async getUtxosInternal(addressOrCredential, unit) {\n    const queryPredicate = (() => {\n      if (typeof addressOrCredential === \"string\") {\n        return \"/addresses/\" + addressOrCredential;\n      }\n      let credentialBech32Query = \"/addresses/cred/\";\n      credentialBech32Query += addressOrCredential.type === \"Key\" ? CML.Ed25519KeyHash.from_hex(addressOrCredential.hash).to_bech32(\n        \"addr_vkh\"\n      ) : CML.ScriptHash.from_hex(addressOrCredential.hash).to_bech32(\n        \"addr_shared_vkh\"\n      );\n      return credentialBech32Query;\n    })();\n    const qparams = new URLSearchParams({\n      count: \"100\",\n      ...unit && { asset: unit }\n    });\n    const result = await this.getAllPagesData(\n      async (qry) => await fetch(qry, {\n        headers: this.requireAmountsAsStrings(this.commonHeaders())\n      }),\n      `${this.url}${queryPredicate}/utxos`,\n      qparams,\n      \"Location: getUtxosInternal. Error: Could not fetch UTxOs from Maestro\"\n    );\n    return result.map(this.maestroUtxoToUtxo);\n  }\n  getUtxos(addressOrCredential) {\n    return this.getUtxosInternal(addressOrCredential);\n  }\n  getUtxosWithUnit(addressOrCredential, unit) {\n    return this.getUtxosInternal(addressOrCredential, unit);\n  }\n  async getUtxoByUnit(unit) {\n    const timestampedAddressesResponse = await fetch(\n      `${this.url}/assets/${unit}/addresses?count=2`,\n      { headers: this.commonHeaders() }\n    );\n    const timestampedAddresses = await timestampedAddressesResponse.json();\n    if (!timestampedAddressesResponse.ok) {\n      if (timestampedAddresses.message) {\n        throw new Error(timestampedAddresses.message);\n      }\n      throw new Error(\n        \"Location: getUtxoByUnit. Error: Couldn't perform query. Received status code: \" + timestampedAddressesResponse.status\n      );\n    }\n    const addressesWithAmount = timestampedAddresses.data;\n    if (addressesWithAmount.length === 0) {\n      throw new Error(\"Location: getUtxoByUnit. Error: Unit not found.\");\n    }\n    if (addressesWithAmount.length > 1) {\n      throw new Error(\n        \"Location: getUtxoByUnit. Error: Unit needs to be an NFT or only held by one address.\"\n      );\n    }\n    const address = addressesWithAmount[0].address;\n    const utxos = await this.getUtxosWithUnit(address, unit);\n    if (utxos.length > 1) {\n      throw new Error(\n        \"Location: getUtxoByUnit. Error: Unit needs to be an NFT or only held by one address.\"\n      );\n    }\n    return utxos[0];\n  }\n  async getUtxosByOutRef(outRefs) {\n    const qry = `${this.url}/transactions/outputs`;\n    const body = JSON.stringify(\n      outRefs.map(({ txHash, outputIndex }) => `${txHash}#${outputIndex}`)\n    );\n    const utxos = await this.getAllPagesData(\n      async (qry2) => await fetch(qry2, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          ...this.requireAmountsAsStrings(this.commonHeaders())\n        },\n        body\n      }),\n      qry,\n      new URLSearchParams({}),\n      \"Location: getUtxosByOutRef. Error: Could not fetch UTxOs by references from Maestro\"\n    );\n    return utxos.map(this.maestroUtxoToUtxo);\n  }\n  async getDelegation(rewardAddress) {\n    const timestampedResultResponse = await fetch(\n      `${this.url}/accounts/${rewardAddress}`,\n      { headers: this.commonHeaders() }\n    );\n    if (!timestampedResultResponse.ok) {\n      return { poolId: null, rewards: 0n };\n    }\n    const timestampedResult = await timestampedResultResponse.json();\n    const result = timestampedResult.data;\n    return {\n      poolId: result.delegated_pool || null,\n      rewards: BigInt(result.rewards_available)\n    };\n  }\n  async getDatum(datumHash) {\n    const timestampedResultResponse = await fetch(\n      `${this.url}/datums/${datumHash}`,\n      {\n        headers: this.commonHeaders()\n      }\n    );\n    if (!timestampedResultResponse.ok) {\n      if (timestampedResultResponse.status === 404) {\n        throw new Error(`No datum found for datum hash: ${datumHash}`);\n      } else {\n        throw new Error(\n          \"Location: getDatum. Error: Couldn't successfully perform query. Received status code: \" + timestampedResultResponse.status\n        );\n      }\n    }\n    const timestampedResult = await timestampedResultResponse.json();\n    return timestampedResult.data.bytes;\n  }\n  awaitTx(txHash, checkInterval = 3e3) {\n    return new Promise((res) => {\n      const confirmation = setInterval(async () => {\n        const isConfirmedResponse = await fetch(\n          `${this.url}/transactions/${txHash}/cbor`,\n          {\n            headers: this.commonHeaders()\n          }\n        );\n        if (isConfirmedResponse.ok) {\n          await isConfirmedResponse.json();\n          clearInterval(confirmation);\n          await new Promise((res2) => setTimeout(() => res2(1), 1e3));\n          return res(true);\n        }\n      }, checkInterval);\n    });\n  }\n  async submitTx(tx) {\n    let queryUrl = `${this.url}/txmanager`;\n    queryUrl += this.turboSubmit ? \"/turbosubmit\" : \"\";\n    const response = await fetch(queryUrl, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/cbor\",\n        Accept: \"text/plain\",\n        ...this.commonHeaders()\n      },\n      body: fromHex3(tx)\n    });\n    const result = await response.text();\n    if (!response.ok) {\n      if (response.status === 400) throw new Error(result);\n      else {\n        throw new Error(\n          \"Could not submit transaction. Received status code: \" + response.status\n        );\n      }\n    }\n    return result;\n  }\n  commonHeaders() {\n    return { \"api-key\": this.apiKey, lucid: lucid2 };\n  }\n  requireAmountsAsStrings(obj) {\n    return { ...obj, \"amounts-as-strings\": \"true\" };\n  }\n  maestroUtxoToUtxo(result) {\n    return {\n      txHash: result.tx_hash,\n      outputIndex: result.index,\n      assets: (() => {\n        const a = {};\n        result.assets.forEach((am) => {\n          a[am.unit] = BigInt(am.amount);\n        });\n        return a;\n      })(),\n      address: result.address,\n      datumHash: result.datum ? result.datum.type == \"inline\" ? void 0 : result.datum.hash : void 0,\n      datum: result.datum?.bytes,\n      scriptRef: toScriptRef(result.reference_script)\n    };\n  }\n  async getAllPagesData(getResponse, qry, paramsGiven, errorMsg) {\n    let nextCursor = null;\n    let result = [];\n    while (true) {\n      if (nextCursor !== null) {\n        paramsGiven.set(\"cursor\", nextCursor);\n      }\n      const response = await getResponse(`${qry}?` + paramsGiven);\n      const pageResult = await response.json();\n      if (!response.ok) {\n        throw new Error(\n          `${errorMsg}. Received status code: ${response.status}`\n        );\n      }\n      nextCursor = pageResult.next_cursor;\n      result = result.concat(pageResult.data);\n      if (nextCursor == null) break;\n    }\n    return result;\n  }\n  async evaluateTx(tx, additionalUTxOs) {\n    const additionalMaestroUTxOs = (additionalUTxOs || []).map((utxo) => ({\n      tx_hash: utxo.txHash,\n      index: utxo.outputIndex,\n      txout_cbor: utxoToCore(utxo).output().to_cbor_hex()\n    }));\n    const payload = {\n      cbor: tx,\n      additional_utxos: additionalMaestroUTxOs\n    };\n    const res = await fetch(`${this.url}/transactions/evaluate`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"api-key\": this.apiKey\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!res.ok) {\n      const body = await res.text();\n      console.error(\"Response error:\", JSON.stringify(res));\n      throw new Error(`Evaluate transaction failed: ${body}`);\n    }\n    const result = await res.json();\n    return result;\n  }\n};\nvar toScriptRef = (reference_script) => {\n  if (reference_script && reference_script.bytes) {\n    switch (reference_script.type) {\n      case \"native\":\n        return scriptFromNative2(reference_script.json);\n      case \"plutusv1\":\n        return {\n          type: \"PlutusV1\",\n          script: applyDoubleCborEncoding3(reference_script.bytes)\n        };\n      case \"plutusv2\":\n        return {\n          type: \"PlutusV2\",\n          script: applyDoubleCborEncoding3(reference_script.bytes)\n        };\n      case \"plutusv3\":\n        return {\n          type: \"PlutusV3\",\n          script: applyDoubleCborEncoding3(reference_script.bytes)\n        };\n      default:\n        return void 0;\n    }\n  }\n};\nvar lucid2 = package_default.version;\n\n// src/koios.ts\nimport { fromHex as fromHex4 } from \"@lucid-evolution/core-utils\";\nimport { fromUnit as fromUnit3 } from \"@lucid-evolution/utils\";\n\n// src/internal/koios.ts\nimport { FetchHttpClient as FetchHttpClient2 } from \"@effect/platform\";\nimport { Effect as Effect3, pipe as pipe4, Schema as S4 } from \"effect\";\nimport { applyDoubleCborEncoding as applyDoubleCborEncoding4 } from \"@lucid-evolution/utils\";\nvar ProtocolParametersSchema2 = S4.Struct({\n  pvt_motion_no_confidence: S4.Number,\n  pvt_committee_normal: S4.Number,\n  pvt_committee_no_confidence: S4.Number,\n  pvt_hard_fork_initiation: S4.Number,\n  pvtpp_security_group: S4.Number,\n  dvt_motion_no_confidence: S4.Number,\n  dvt_committee_normal: S4.Number,\n  dvt_committee_no_confidence: S4.Number,\n  dvt_update_to_constitution: S4.Number,\n  dvt_hard_fork_initiation: S4.Number,\n  dvt_p_p_network_group: S4.Number,\n  dvt_p_p_economic_group: S4.Number,\n  dvt_p_p_technical_group: S4.Number,\n  dvt_p_p_gov_group: S4.Number,\n  dvt_treasury_withdrawal: S4.Number,\n  committee_min_size: S4.Number,\n  committee_max_term_length: S4.Number,\n  gov_action_lifetime: S4.Number,\n  gov_action_deposit: S4.NumberFromString,\n  drep_deposit: S4.NumberFromString,\n  drep_activity: S4.Number,\n  min_fee_ref_script_cost_per_byte: S4.Number,\n  epoch_no: S4.Number,\n  min_fee_a: S4.Number,\n  min_fee_b: S4.Number,\n  max_block_size: S4.Number,\n  max_tx_size: S4.Number,\n  max_bh_size: S4.Number,\n  key_deposit: S4.BigInt,\n  pool_deposit: S4.BigInt,\n  max_epoch: S4.Number,\n  optimal_pool_count: S4.Number,\n  influence: S4.Number,\n  monetary_expand_rate: S4.Number,\n  treasury_growth_rate: S4.Number,\n  decentralisation: S4.Number,\n  extra_entropy: S4.NullOr(S4.String),\n  protocol_major: S4.Number,\n  protocol_minor: S4.Number,\n  min_utxo_value: S4.String,\n  min_pool_cost: S4.String,\n  nonce: S4.String,\n  block_hash: S4.NullOr(S4.String),\n  cost_models: S4.Struct({\n    PlutusV1: S4.Array(S4.Number),\n    PlutusV2: S4.Array(S4.Number),\n    PlutusV3: S4.Array(S4.Number)\n  }),\n  price_mem: S4.Number,\n  price_step: S4.Number,\n  max_tx_ex_mem: S4.BigIntFromNumber,\n  max_tx_ex_steps: S4.BigIntFromNumber,\n  max_block_ex_mem: S4.Number,\n  max_block_ex_steps: S4.Number,\n  max_val_size: S4.Number,\n  collateral_percent: S4.Number,\n  max_collateral_inputs: S4.Number,\n  coins_per_utxo_size: S4.BigInt\n});\nvar AssetSchema = S4.Struct({\n  policy_id: S4.String,\n  asset_name: S4.NullOr(S4.String),\n  fingerprint: S4.String,\n  decimals: S4.Number,\n  quantity: S4.String\n});\nvar ReferenceScriptSchema = S4.Struct({\n  hash: S4.NullOr(S4.String),\n  size: S4.NullOr(S4.Number),\n  type: S4.NullOr(S4.String),\n  bytes: S4.NullOr(S4.String),\n  value: S4.NullOr(S4.Object)\n});\nvar UTxOSchema2 = S4.Struct({\n  tx_hash: S4.String,\n  tx_index: S4.Number,\n  block_time: S4.Number,\n  block_height: S4.NullOr(S4.Number),\n  value: S4.String,\n  datum_hash: S4.NullOr(S4.String),\n  inline_datum: S4.NullOr(\n    S4.Struct({\n      bytes: S4.String,\n      value: S4.Object\n    })\n  ),\n  reference_script: S4.NullOr(ReferenceScriptSchema),\n  asset_list: S4.NullOr(S4.Array(AssetSchema))\n});\nvar AddressInfoSchema = S4.Array(\n  S4.NullishOr(\n    S4.Struct({\n      address: S4.String,\n      balance: S4.String,\n      stake_address: S4.NullOr(S4.String),\n      script_address: S4.Boolean,\n      utxo_set: S4.Array(UTxOSchema2)\n    })\n  )\n);\nvar InputOutputSchema = S4.Struct({\n  payment_addr: S4.Struct({\n    bech32: S4.String,\n    cred: S4.String\n  }),\n  stake_addr: S4.NullOr(S4.String),\n  tx_hash: S4.String,\n  tx_index: S4.Number,\n  value: S4.String,\n  datum_hash: S4.NullOr(S4.String),\n  inline_datum: S4.NullOr(\n    S4.Struct({\n      bytes: S4.String,\n      value: S4.Object\n    })\n  ),\n  reference_script: S4.NullOr(ReferenceScriptSchema),\n  asset_list: S4.Array(AssetSchema)\n});\nvar TxInfoSchema = S4.Struct({\n  tx_hash: S4.String,\n  block_hash: S4.String,\n  block_height: S4.Number,\n  epoch_no: S4.Number,\n  epoch_slot: S4.Number,\n  absolute_slot: S4.Number,\n  tx_timestamp: S4.Number,\n  tx_block_index: S4.Number,\n  tx_size: S4.Number,\n  total_output: S4.String,\n  fee: S4.String,\n  treasury_donation: S4.String,\n  deposit: S4.String,\n  invalid_before: S4.NullOr(S4.String),\n  invalid_after: S4.NullOr(S4.String),\n  collateral_inputs: S4.NullOr(S4.Array(InputOutputSchema)),\n  collateral_output: S4.NullOr(InputOutputSchema),\n  reference_inputs: S4.NullOr(S4.Array(InputOutputSchema)),\n  inputs: S4.Array(InputOutputSchema),\n  outputs: S4.Array(InputOutputSchema),\n  withdrawals: S4.NullOr(\n    S4.Array(\n      S4.Struct({\n        amount: S4.String,\n        stake_addr: S4.String\n      })\n    )\n  ),\n  assets_minted: S4.NullOr(S4.Array(AssetSchema)),\n  metadata: S4.NullOr(S4.Object),\n  certificates: S4.NullOr(\n    S4.Array(\n      S4.Struct({\n        index: S4.Number,\n        type: S4.String,\n        info: S4.NullOr(S4.Object)\n      })\n    )\n  ),\n  native_scripts: S4.NullOr(\n    S4.Array(\n      S4.Struct({\n        script_hash: S4.String,\n        script_json: S4.Object\n      })\n    )\n  ),\n  plutus_contracts: S4.NullOr(\n    S4.Array(\n      S4.Struct({\n        address: S4.String,\n        spends_input: S4.NullOr(\n          S4.Struct({\n            tx_hash: S4.String,\n            tx_index: S4.Number\n          })\n        ),\n        script_hash: S4.String,\n        bytecode: S4.String,\n        size: S4.Number,\n        valid_contract: S4.Boolean,\n        input: S4.Struct({\n          redeemer: S4.Struct({\n            purpose: S4.Literal(\"spend\", \"mint\", \"cert\", \"reward\"),\n            fee: S4.String,\n            unit: S4.Struct({\n              steps: S4.String,\n              mem: S4.String\n            }),\n            datum: S4.Struct({\n              hash: S4.NullOr(S4.String),\n              value: S4.NullOr(S4.Object)\n            })\n          }),\n          datum: S4.Struct({\n            hash: S4.NullOr(S4.String),\n            value: S4.NullOr(S4.Object)\n          })\n        })\n      })\n    )\n  ),\n  //TODO: add S.Struct\n  // https://preprod.koios.rest/#post-/tx_info\n  voting_procedures: S4.Array(S4.Object),\n  //TODO: add S.Struct\n  // https://preprod.koios.rest/#post-/tx_info\n  proposal_procedures: S4.Object\n});\nvar TxHashSchema = S4.String;\nvar AssetAddressSchema = S4.Struct({\n  payment_address: S4.String,\n  stake_address: S4.NullOr(S4.String),\n  quantity: S4.String\n});\nvar AccountInfoSchema = S4.Struct({\n  delegated_pool: S4.NullOr(S4.String),\n  rewards_available: S4.NumberFromString\n});\nvar DatumInfo = S4.Struct({\n  bytes: S4.String\n});\nvar toUTxO = (koiosUTxO, address) => ({\n  txHash: koiosUTxO.tx_hash,\n  outputIndex: koiosUTxO.tx_index,\n  assets: (() => {\n    const a = {};\n    if (koiosUTxO.asset_list) {\n      koiosUTxO.asset_list.forEach((am) => {\n        a[am.policy_id + am.asset_name] = BigInt(am.quantity);\n      });\n    }\n    a[\"lovelace\"] = BigInt(koiosUTxO.value);\n    return a;\n  })(),\n  address,\n  datumHash: koiosUTxO.inline_datum ? void 0 : koiosUTxO.datum_hash || void 0,\n  datum: koiosUTxO.inline_datum ? koiosUTxO.inline_datum.bytes : void 0,\n  scriptRef: toScriptRef2(koiosUTxO.reference_script)\n});\nvar toScriptRef2 = (reference_script) => {\n  if (reference_script && reference_script.bytes && reference_script.type) {\n    switch (reference_script.type) {\n      case \"plutusV1\":\n        return {\n          type: \"PlutusV1\",\n          script: applyDoubleCborEncoding4(reference_script.bytes)\n        };\n      case \"plutusV2\":\n        return {\n          type: \"PlutusV2\",\n          script: applyDoubleCborEncoding4(reference_script.bytes)\n        };\n      case \"plutusV3\":\n        return {\n          type: \"PlutusV3\",\n          script: applyDoubleCborEncoding4(reference_script.bytes)\n        };\n      default:\n        return void 0;\n    }\n  }\n};\nvar getUtxosEffect = (baseUrl, addressOrCredential, headers) => {\n  const url = `${baseUrl}/address_info`;\n  const body = {\n    _addresses: [addressOrCredential]\n  };\n  const schema = AddressInfoSchema;\n  const result = pipe4(\n    Effect3.if(typeof addressOrCredential === \"string\", {\n      onFalse: () => Effect3.fail(\"Credential Type is not supported in Koios yet.\"),\n      onTrue: () => makePostAsJson(url, body, schema, headers)\n    }),\n    Effect3.map(\n      ([result2]) => result2 ? result2.utxo_set.map((koiosUtxo) => toUTxO(koiosUtxo, result2.address)) : []\n    ),\n    Effect3.provide(FetchHttpClient2.layer)\n  );\n  return result;\n};\n\n// src/koios.ts\nimport { Data as Data2, Effect as Effect4, pipe as pipe5, Schedule as Schedule2, Schema as S5 } from \"effect\";\nimport { FetchHttpClient as FetchHttpClient3 } from \"@effect/platform\";\nvar KoiosError = class extends Data2.TaggedError(\"KoiosError\") {\n  get message() {\n    return `${this.cause}`;\n  }\n};\nvar Koios = class {\n  baseUrl;\n  token;\n  constructor(baseUrl, token) {\n    this.baseUrl = baseUrl;\n    this.token = token;\n  }\n  async getProtocolParameters() {\n    const url = `${this.baseUrl}/epoch_params?limit=1`;\n    const schema = S5.Array(ProtocolParametersSchema2);\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const [result] = await pipe5(\n      makeGet(url, schema, bearerToken),\n      // Allows for dependency injection and easier testing\n      Effect4.provide(FetchHttpClient3.layer),\n      Effect4.timeout(1e4),\n      Effect4.catchAllCause((cause) => new KoiosError({ cause })),\n      Effect4.runPromise\n    );\n    return {\n      minFeeA: result.min_fee_a,\n      minFeeB: result.min_fee_b,\n      maxTxSize: result.max_tx_size,\n      maxValSize: result.max_val_size,\n      keyDeposit: result.key_deposit,\n      poolDeposit: result.pool_deposit,\n      drepDeposit: BigInt(result.drep_deposit),\n      govActionDeposit: BigInt(result.gov_action_deposit),\n      priceMem: result.price_mem,\n      priceStep: result.price_step,\n      maxTxExMem: result.max_tx_ex_mem,\n      maxTxExSteps: result.max_tx_ex_steps,\n      coinsPerUtxoByte: result.coins_per_utxo_size,\n      collateralPercentage: result.collateral_percent,\n      maxCollateralInputs: result.max_collateral_inputs,\n      minFeeRefScriptCostPerByte: result.min_fee_ref_script_cost_per_byte,\n      costModels: {\n        PlutusV1: Object.fromEntries(\n          result.cost_models.PlutusV1.map((value, index) => [\n            index.toString(),\n            value\n          ])\n        ),\n        PlutusV2: Object.fromEntries(\n          result.cost_models.PlutusV2.map((value, index) => [\n            index.toString(),\n            value\n          ])\n        ),\n        PlutusV3: Object.fromEntries(\n          result.cost_models.PlutusV3.map((value, index) => [\n            index.toString(),\n            value\n          ])\n        )\n      }\n    };\n  }\n  async getUtxos(addressOrCredential) {\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const result = await pipe5(\n      getUtxosEffect(this.baseUrl, addressOrCredential, bearerToken),\n      Effect4.timeout(1e4),\n      Effect4.catchAllCause((cause) => new KoiosError({ cause })),\n      Effect4.runPromise\n    );\n    return result;\n  }\n  async getUtxosWithUnit(addressOrCredential, unit) {\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const result = await pipe5(\n      getUtxosEffect(this.baseUrl, addressOrCredential, bearerToken),\n      Effect4.map(\n        (utxos) => utxos.filter((utxo) => {\n          const keys = Object.keys(utxo.assets);\n          return keys.length > 0 && keys.includes(unit);\n        })\n      ),\n      Effect4.timeout(1e4),\n      Effect4.catchAllCause((cause) => new KoiosError({ cause })),\n      Effect4.runPromise\n    );\n    return result;\n  }\n  async getUtxoByUnit(unit) {\n    let { policyId, assetName } = fromUnit3(unit);\n    const url = `${this.baseUrl}/asset_addresses?_asset_policy=${policyId}&_asset_name=${assetName}`;\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const result = await pipe5(\n      makeGet(url, S5.Array(AssetAddressSchema), bearerToken),\n      // Allows for dependency injection and easier testing\n      Effect4.provide(FetchHttpClient3.layer),\n      Effect4.flatMap(\n        (adresses) => adresses.length === 0 ? Effect4.fail(\"Unit not found\") : Effect4.succeed(adresses)\n      ),\n      Effect4.flatMap(\n        (adresses) => adresses.length > 1 ? Effect4.fail(\"Unit needs to be an NFT or only held by one address.\") : Effect4.succeed(adresses[0])\n      ),\n      Effect4.flatMap(\n        (address) => getUtxosEffect(\n          this.baseUrl,\n          address.payment_address,\n          bearerToken\n        )\n      ),\n      Effect4.map(\n        (utxos) => utxos.filter((utxo) => {\n          const keys = Object.keys(utxo.assets);\n          return keys.length > 0 && keys.includes(unit);\n        })\n      ),\n      Effect4.flatMap(\n        (utxos) => utxos.length > 1 ? Effect4.fail(\"Unit needs to be an NFT or only held by one address.\") : Effect4.succeed(utxos[0])\n      ),\n      Effect4.timeout(1e4),\n      Effect4.catchAllCause((cause) => new KoiosError({ cause })),\n      Effect4.runPromise\n    );\n    return result;\n  }\n  async getUtxosByOutRef(outRefs) {\n    const url = `${this.baseUrl}/tx_info`;\n    const body = {\n      _tx_hashes: [...new Set(outRefs.map((outRef) => outRef.txHash))],\n      _assets: true,\n      _scripts: true\n    };\n    const schema = S5.Array(TxInfoSchema);\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const [result] = await pipe5(\n      makePostAsJson(url, body, schema, bearerToken),\n      // Allows for dependency injection and easier testing\n      Effect4.provide(FetchHttpClient3.layer),\n      Effect4.timeout(1e4),\n      Effect4.catchAllCause((cause) => new KoiosError({ cause })),\n      Effect4.runPromise\n    );\n    if (result) {\n      const utxos = result.outputs.map(\n        (koiosInputOutput) => toUTxO(\n          {\n            tx_hash: koiosInputOutput.tx_hash,\n            tx_index: koiosInputOutput.tx_index,\n            block_time: 0,\n            block_height: result.block_height,\n            value: koiosInputOutput.value,\n            datum_hash: koiosInputOutput.datum_hash,\n            inline_datum: koiosInputOutput.inline_datum,\n            reference_script: koiosInputOutput.reference_script,\n            asset_list: koiosInputOutput.asset_list\n          },\n          koiosInputOutput.payment_addr.bech32\n        )\n      );\n      return utxos.filter(\n        (utxo) => outRefs.some(\n          (outRef) => utxo.txHash === outRef.txHash && utxo.outputIndex === outRef.outputIndex\n        )\n      );\n    } else {\n      return [];\n    }\n  }\n  async getDelegation(rewardAddress) {\n    const body = {\n      _stake_addresses: [rewardAddress]\n    };\n    const url = `${this.baseUrl}/account_info`;\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const result = await pipe5(\n      makePostAsJson(\n        url,\n        body,\n        S5.Array(AccountInfoSchema),\n        bearerToken\n      ),\n      // Allows for dependency injection and easier testing\n      Effect4.provide(FetchHttpClient3.layer),\n      Effect4.flatMap(\n        (result2) => result2.length === 0 ? Effect4.fail(\"No Delegation Found by Reward Address\") : Effect4.succeed(result2[0])\n      ),\n      Effect4.timeout(1e4),\n      Effect4.catchAllCause((cause) => new KoiosError({ cause })),\n      Effect4.runPromise\n    );\n    return {\n      poolId: result.delegated_pool || null,\n      rewards: BigInt(result.rewards_available)\n    };\n  }\n  async getDatum(datumHash) {\n    const url = `${this.baseUrl}/datum_info`;\n    const body = {\n      _datum_hashes: [datumHash]\n    };\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const result = await pipe5(\n      makePostAsJson(\n        url,\n        body,\n        S5.Array(DatumInfo),\n        bearerToken\n      ),\n      // Allows for dependency injection and easier testing\n      Effect4.provide(FetchHttpClient3.layer),\n      Effect4.flatMap(\n        (result2) => result2.length === 0 ? Effect4.fail(\"No Datum Found by Datum Hash\") : Effect4.succeed(result2[0])\n      ),\n      Effect4.timeout(1e4),\n      Effect4.catchAllCause((cause) => new KoiosError({ cause })),\n      Effect4.runPromise\n    );\n    return result.bytes;\n  }\n  async awaitTx(txHash, checkInterval = 2e4) {\n    const url = `${this.baseUrl}/tx_info`;\n    const body = {\n      _tx_hashes: [txHash]\n    };\n    const schema = S5.Array(TxInfoSchema);\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const result = await pipe5(\n      makePostAsJson(url, body, schema, bearerToken),\n      Effect4.repeat({\n        schedule: Schedule2.exponential(checkInterval),\n        until: (result2) => result2.length > 0\n      }),\n      // Allows for dependency injection and easier testing\n      Effect4.provide(FetchHttpClient3.layer),\n      Effect4.timeout(16e4),\n      Effect4.orDie,\n      Effect4.as(true),\n      Effect4.runPromise\n    );\n    return result;\n  }\n  async submitTx(tx) {\n    const url = `${this.baseUrl}/submittx`;\n    const body = fromHex4(tx);\n    const schema = TxHashSchema;\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const result = await pipe5(\n      makePostAsUint8Array(url, body, schema, bearerToken),\n      // Allows for dependency injection and easier testing\n      Effect4.provide(FetchHttpClient3.layer),\n      Effect4.timeout(1e4),\n      Effect4.catchAllCause((cause) => new KoiosError({ cause })),\n      Effect4.runPromise\n    );\n    return result;\n  }\n  async evaluateTx(tx, additionalUTxOs) {\n    const url = `${this.baseUrl}/ogmios`;\n    const body = {\n      jsonrpc: \"2.0\",\n      method: \"evaluateTransaction\",\n      params: {\n        transaction: { cbor: tx },\n        additionalUtxo: toOgmiosUTxOs(additionalUTxOs)\n      },\n      id: null\n    };\n    const schema = JSONRPCSchema(S5.Array(RedeemerSchema));\n    const bearerToken = this.token ? { Authorization: `Bearer ${this.token}` } : void 0;\n    const { result } = await pipe5(\n      makePostAsJson(url, body, schema, bearerToken),\n      // Allows for dependency injection and easier testing\n      Effect4.provide(FetchHttpClient3.layer),\n      Effect4.timeout(1e4),\n      Effect4.catchAllCause((cause) => new KoiosError({ cause })),\n      Effect4.runPromise\n    );\n    const evalRedeemers = result.map((item) => ({\n      ex_units: {\n        mem: item.budget.memory,\n        steps: item.budget.cpu\n      },\n      redeemer_index: item.validator.index,\n      redeemer_tag: item.validator.purpose\n    }));\n    return evalRedeemers;\n  }\n};\nexport {\n  Blockfrost,\n  Emulator,\n  Koios,\n  KoiosError,\n  Kupmios,\n  KupmiosError,\n  Maestro,\n  generateEmulatorAccount,\n  generateEmulatorAccountFromPrivateKey\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}}]
}